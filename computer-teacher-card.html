<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Computer Teacher Appreciation Card - Nexus Tribute 2099</title>
    <title>Computer Teacher Appreciation Card - Nexus Tribute 2099</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/webxr/VRButton.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/webxr/XRControllerModelFactory.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <style>
        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 1s ease-out;
        }
        
        .loading-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loading-logo {
            font-size: 3rem;
            color: #00ff00;
            margin-bottom: 30px;
            text-shadow: 0 0 20px #00ff00;
            animation: logo-pulse 2s infinite;
        }
        
        .loading-bar {
            width: 300px;
            height: 10px;
            background: rgba(0, 50, 0, 0.5);
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .loading-progress {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #00ff00, #008800);
            border-radius: 5px;
            transition: width 0.3s ease;
        }
        
        .loading-text {
            color: #00ff00;
            font-family: 'Orbitron', monospace;
            font-size: 1.2rem;
            text-align: center;
        }
        
        @keyframes logo-pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        /* iOS specific optimizations */
        @media screen and (max-device-width: 844px) {
            html, body {
                -webkit-overflow-scrolling: touch;
                -webkit-tap-highlight-color: transparent;
            }
            
            /* Hide custom cursor on touch devices */
            .custom-cursor {
                display: none;
            }
        }
        
        body {
            font-family: 'Orbitron', monospace;
            background: radial-gradient(ellipse at center, #0a2a0a 0%, #1d4d1d 50%, #0f1f0f 100%);
            overflow: hidden;
            cursor: none;
            user-select: none;
            height: 100vh;
            /* Prevent iOS Safari from zooming on input focus */
            -webkit-text-size-adjust: 100%;
            /* Hide custom cursor on touch devices */
            touch-action: manipulation;
        }
        
        .custom-cursor {
            position: fixed; width: 20px; height: 20px;
            background: radial-gradient(circle, #00ff00, #008800);
            border-radius: 50%; pointer-events: none; z-index: 10000;
            mix-blend-mode: difference; transition: all 0.1s ease;
            box-shadow: 0 0 20px #00ff00;
            animation: cursor-pulse 2s ease-in-out infinite;
        }
        
        .cursor-trail {
            position: fixed; width: 8px; height: 8px;
            background: radial-gradient(circle, #00ff0080, transparent);
            border-radius: 50%; pointer-events: none; z-index: 9999;
            animation: trail-fade 0.5s ease-out forwards;
        }
        
        /* Hide cursor trails on touch devices */
        @media (hover: none) and (pointer: coarse) {
            .cursor-trail {
                display: none;
            }
        }
        
        @keyframes cursor-pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.5); opacity: 1; }
        }
        
        @keyframes trail-fade {
            0% { opacity: 0.8; transform: scale(1); }
            100% { opacity: 0; transform: scale(0.3); }
        }
        
        /* üîÆ Futuristic Visuals */
        
        /* Holographic 3D Circuit Universe */
        .circuit-universe {
            position: absolute; top: 20%; left: 5%; width: 150px; height: 100px;
            perspective: 1000px; z-index: 8;
        }
        
        .circuit-board-3d {
            position: relative; width: 100%; height: 100%;
            transform-style: preserve-3d;
            animation: rotate-circuit 20s infinite linear;
        }
        
        .circuit-path {
            position: absolute; height: 2px; background: linear-gradient(90deg, transparent, #00ff00, transparent);
            box-shadow: 0 0 10px #00ff00;
        }
        
        .circuit-node {
            position: absolute; width: 8px; height: 8px;
            background: radial-gradient(circle, #00ff00, #008800);
            border-radius: 50%;
            box-shadow: 0 0 15px #00ff00;
            animation: node-pulse 2s ease-in-out infinite;
            cursor: pointer;
        }
        
        .circuit-node:hover, .circuit-node:active {
            transform: scale(1.5);
            box-shadow: 0 0 30px #00ff00;
            z-index: 100;
        }
        
        @keyframes rotate-circuit {
            0% { transform: rotateX(75deg) rotateZ(0deg); }
            100% { transform: rotateX(75deg) rotateZ(360deg); }
        }
        
        @keyframes node-pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.2); opacity: 1; }
        }
        
        /* Quantum Code Stream */
        .quantum-stream {
            position: absolute; width: 100%; height: 100%; overflow: hidden;
            z-index: 3;
        }
        
        .quantum-symbol {
            position: absolute; color: #00ff00; font-family: 'Orbitron', monospace;
            font-size: 0.8rem; animation: quantum-fall 10s linear infinite;
            text-shadow: 0 0 10px #00ff00;
        }
        
        @keyframes quantum-fall {
            0% { transform: translateY(-100px) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        /* Neural Network Visualization */
        .neural-network {
            position: absolute; top: 75%; left: 5%; width: 120px; height: 90px;
            z-index: 9;
        }
        
        .neuron {
            position: absolute; width: 8px; height: 8px;
            background: radial-gradient(circle, #00ff00, #008800);
            border-radius: 50%; animation: neuron-pulse 1.5s ease-in-out infinite;
        }
        
        .neural-connection {
            position: absolute; height: 2px; background: linear-gradient(to right, #00ff00, transparent);
            animation: connection-flow 2s ease-in-out infinite;
            transform-origin: 0 0;
        }
        
        @keyframes neuron-pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 10px #00ff00; }
            50% { transform: scale(1.5); box-shadow: 0 0 25px #00ff00; }
        }
        
        @keyframes connection-flow {
            0% { opacity: 0.3; width: 0; }
            30% { opacity: 1; }
            70% { opacity: 1; }
            100% { opacity: 0.3; width: 100%; }
        }
        
        /* Glitch Transition Effects */
        .glitch-overlay {
            position: absolute; width: 100%; height: 100%; top: 0; left: 0;
            background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0, 255, 0, 0.1) 2px, rgba(0, 255, 0, 0.1) 4px);
            animation: glitch-effect 0.1s linear infinite; z-index: 100; pointer-events: none;
            opacity: 0; mix-blend-mode: screen;
        }
        
        @keyframes glitch-effect {
            0% { transform: translateX(0); opacity: 0; }
            1% { transform: translateX(-5px); opacity: 1; }
            2% { transform: translateX(5px); opacity: 0; }
            3% { transform: translateX(-3px); opacity: 1; }
            4% { transform: translateX(3px); opacity: 0; }
            100% { transform: translateX(0); opacity: 0; }
        }
        
        /* Augmented Desktop Simulation */
        .desktop-window {
            position: absolute; background: rgba(0, 20, 0, 0.85); border: 1px solid #00ff00;
            border-radius: 8px; backdrop-filter: blur(5px); z-index: 12;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
        }
        
        .window-header {
            height: 20px; background: rgba(0, 50, 0, 0.7); border-radius: 8px 8px 0 0;
            display: flex; align-items: center; padding: 0 8px;
            border-bottom: 1px solid #00aa00;
        }
        
        .window-title {
            color: #00ff00; font-size: 0.7rem; flex-grow: 1;
        }
        
        .window-controls {
            display: flex; gap: 4px;
        }
        
        .window-control {
            width: 8px; height: 8px; border-radius: 50%;
        }
        
        .control-close { background: #ff5555; }
        .control-minimize { background: #ffcc00; }
        .control-maximize { background: #00cc44; }
        
        .window-content {
            padding: 8px; color: #00ff00; font-family: 'Exo 2', monospace;
            font-size: 0.7rem; line-height: 1.3;
        }
        
        /* üéÆ Interactivity & Immersion */
        
        /* Code Compiler Effect */
        .compiler-input {
            position: absolute; bottom: 120px; left: 50%; transform: translateX(-50%);
            width: 250px; padding: 8px; background: rgba(0, 0, 0, 0.7);
            border: 2px solid #00ff00; border-radius: 5px;
            color: #00ff00; font-family: 'Orbitron', monospace;
            z-index: 20; outline: none;
            font-size: 0.9rem;
        }
        
        .compiler-output {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: #00ff00; font-family: 'Orbitron', monospace;
            font-size: 1.5rem; text-align: center;
            text-shadow: 0 0 20px #00ff00;
            opacity: 0; z-index: 30;
            pointer-events: none;
        }
        
        /* Cyber Console */
        .cyber-console {
            position: absolute; top: 38%; right: 5%; width: 400px; height: 280px;
            background: rgba(0, 10, 0, 0.9); border: 2px solid #00ff00;
            border-radius: 10px; padding: 20px; font-family: 'Orbitron', monospace;
            color: #00ff00; font-size: 1rem; overflow: hidden;
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.5);
            z-index: 15;
            max-width: 90%;
            box-sizing: border-box;
        }
        
        .console-header {
            display: flex; justify-content: space-between; margin-bottom: 8px;
            padding-bottom: 4px; border-bottom: 1px solid #00aa00;
        }
        
        .console-title {
            font-size: 0.7rem; color: #00ff00;
        }
        
        .console-controls {
            display: flex; gap: 4px;
        }
        
        .console-control {
            width: 8px; height: 8px; border-radius: 50%;
        }
        
        .control-close { background: #ff5555; }
        .control-minimize { background: #ffcc00; }
        .control-maximize { background: #00cc44; }
        
        .console-content {
            height: calc(100% - 25px); overflow-y: auto;
        }
        
        .console-line {
            margin: 3px 0; opacity: 0;
            animation: console-type 0.5s ease-in forwards;
        }
        
        .console-input {
            display: flex; margin-top: 5px;
        }
        
        .console-prompt {
            margin-right: 4px;
        }
        
        .console-text-input {
            flex-grow: 1; background: transparent; border: none;
            color: #00ff00; font-family: 'Orbitron', monospace;
            outline: none;
            font-size: 0.7rem;
        }
        
        @keyframes console-type {
            0% { opacity: 0; transform: translateX(-20px); }
            100% { opacity: 1; transform: translateX(0); }
        }
        
        /* üñ•Ô∏è Tech-Specific Features */
        
        /* Real-Time System Monitor Widget */
        .system-monitor {
            position: absolute; bottom: 120px; right: 5%; width: 150px; height: 80px;
            background: rgba(0, 15, 0, 0.8); border: 1px solid #00aa00;
            border-radius: 8px; padding: 8px;
            z-index: 13;
        }
        
        .monitor-title {
            color: #00ff00; font-size: 0.7rem; text-align: center;
            margin-bottom: 8px;
        }
        
        .monitor-bar {
            height: 12px; background: rgba(0, 50, 0, 0.5);
            border-radius: 3px; margin: 6px 0;
            overflow: hidden;
        }
        
        .monitor-fill {
            height: 100%; background: linear-gradient(90deg, #008800, #00ff00);
            border-radius: 3px;
            animation: monitor-pulse 3s ease-in-out infinite;
        }
        
        @keyframes monitor-pulse {
            0%, 100% { width: 40%; }
            50% { width: 85%; }
        }
        
        /* Digital DNA Stream */
        .dna-stream {
            position: absolute; top: 50%; left: 5%; width: 40px; height: 120px;
            z-index: 7;
        }
        
        .dna-strand {
            position: absolute; width: 2px; height: 100%;
            background: linear-gradient(to bottom, #00ff00, #008800);
        }
        
        .dna-strand:nth-child(1) { left: 15px; }
        .dna-strand:nth-child(2) { right: 15px; }
        
        .dna-bridge {
            position: absolute; width: 15px; height: 2px;
            background: #00ff00; left: 16px;
            animation: dna-bridge-pulse 2s ease-in-out infinite;
        }
        
        @keyframes dna-bridge-pulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        /* Data Packet Trails */
        .packet-trail {
            position: absolute; width: 4px; height: 4px;
            background: radial-gradient(circle, #00ff00, #008800);
            border-radius: 50%;
            box-shadow: 0 0 8px #00ff00;
            z-index: 6;
        }
        
        /* üé® Advanced Visual Effects */
        
        /* Ray-Traced Neon Grids */
        .neon-grid {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                linear-gradient(rgba(0, 255, 0, 0.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0, 255, 0, 0.1) 1px, transparent 1px);
            background-size: 30px 30px;
            animation: grid-pulse 4s ease-in-out infinite;
            z-index: 2;
        }
        
        @keyframes grid-pulse {
            0%, 100% { opacity: 0.2; }
            50% { opacity: 0.5; }
        }
        
        /* Dynamic Code Particles */
        .code-particle {
            position: absolute; width: 4px; height: 4px;
            background: #00ff00; border-radius: 50%;
            box-shadow: 0 0 8px #00ff00;
            z-index: 25;
        }
        
        /* Cyberpunk Glow Typography */
        .cyber-title {
            position: absolute; top: 3%; left: 50%; transform: translateX(-50%);
            font-size: 2.8rem; font-weight: 900; color: #00ff00;
            text-shadow: 0 0 20px #00ff00; text-align: center;
            animation: title-glow 2s ease-in-out infinite alternate;
            z-index: 600; /* Adjusted z-index for better layering */
            max-width: 90%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .thank-you-hologram {
            position: absolute; top: 8%; left: 50%; transform: translateX(-50%);
            font-size: 2.2rem; font-weight: 900;
            background: linear-gradient(45deg, #00ff00, #00aa00, #00ff00, #00ff88);
            background-size: 300% 300%; -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center; animation: rainbow-shift 3s ease-in-out infinite;
            z-index: 60; /* Adjusted z-index for better layering */
            cursor: pointer; transition: all 0.3s ease;
            text-shadow: 0 0 15px #00ff00;
            /* Ensure text doesn't overflow on small screens */
            max-width: 90%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        /* Orbiting Name */
        .orbiting-name-container {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            z-index: 400; /* Adjusted z-index for better layering */
        }
        

        
        .orbiting-name {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            color: #00ff00;
            font-size: 1.5rem;
            font-weight: bold;
            text-shadow: 0 0 10px #00ff00;
            white-space: nowrap;
            animation: orbit-name 20s linear infinite;
            will-change: transform;
        }
        
        @keyframes orbit-name {
            0% { transform: translateX(-50%) rotate(0deg) translateX(150px) rotate(0deg) translateZ(0); }
            100% { transform: translateX(-50%) rotate(360deg) translateX(150px) rotate(-360deg) translateZ(0); }
        }
        
        /* Mobile optimization for orbiting name */
        @media (max-width: 768px) {
            @keyframes orbit-name {
                0% { transform: translateX(-50%) rotate(0deg) translateX(100px) rotate(0deg) translateZ(0); }
                100% { transform: translateX(-50%) rotate(360deg) translateX(100px) rotate(-360deg) translateZ(0); }
            }
            
            /* Reduce animation duration on mobile for better performance */
            .orbiting-name {
                animation-duration: 30s;
            }
        }
        
        /* Ensure orbiting name is visible on all screen sizes */
        @media (max-width: 599px) {
            .orbiting-name-container {
                z-index: 15;
            }
            
            /* Adjust card by Arif text for mobile */
            .card-by-arif {
                font-size: 0.8rem;
                bottom: 5px;
                right: 5px;
            }
        }
        
        /* Adjust orbiting name position for different screen orientations */
        @media (orientation: landscape) and (max-height: 500px) {
            .orbiting-name-container {
                top: 70%;
            }
        }
        
        /* Specific adjustments for iPhone 12 Pro */
        @media (device-width: 390px) and (device-height: 844px) and (-webkit-device-pixel-ratio: 3) {
            .orbiting-name-container {
                width: 250px;
                height: 250px;
                top: 55%;
            }
            
            .orbiting-name {
                font-size: 1.3rem;
            }
            
            .card-by-arif {
                font-size: 0.85rem;
                bottom: 8px;
                right: 8px;
            }
        }
        
        /* iPhone 12 Pro landscape mode */
        @media (device-width: 844px) and (device-height: 390px) and (-webkit-device-pixel-ratio: 3) {
            .orbiting-name-container {
                width: 200px;
                height: 200px;
                top: 60%;
            }
            
            .orbiting-name {
                font-size: 1.1rem;
            }
            
            .card-by-arif {
                font-size: 0.75rem;
                bottom: 5px;
                right: 5px;
            }
            
            .special-message {
                width: 80%;
                max-width: 250px;
                padding: 12px;
                font-size: 0.8rem;
            }
        }
        
        /* Card By Arif Signature */
        .card-by-arif {
            position: absolute;
            bottom: 10px;
            right: 10px;
            color: #00ff00;
            font-size: 0.9rem;
            font-family: 'Exo 2', sans-serif;
            text-shadow: 0 0 5px #00ff00;
            z-index: 20;
            opacity: 0.8;
            /* Ensure text is readable on all backgrounds */
            background: rgba(0, 20, 0, 0.3);
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        @keyframes rainbow-shift {
            0% { background-position: 0% 50%; filter: hue-rotate(0deg); }
            50% { background-position: 100% 50%; filter: hue-rotate(10deg); }
            100% { background-position: 0% 50%; filter: hue-rotate(0deg); }
        }
        
        @keyframes title-glow {
            0% { text-shadow: 0 0 20px #00ff00; }
            100% { text-shadow: 0 0 30px #00ff00, 0 0 50px #00aa00; }
        }
        
        /* Hologram Teacher Portrait */
        .hologram-avatar {
            position: absolute; top: 15%; left: 5%; width: 180px; height: 180px;
            border-radius: 50%; overflow: hidden;
            box-shadow: 0 0 20px #00ff00; animation: avatar-glow 3s ease-in-out infinite alternate;
            z-index: 50; /* Adjusted z-index for better layering */
            cursor: pointer; transition: all 0.3s ease;
            background: transparent;
            border: 2px solid #00ff00;
            max-width: 100%;
            height: auto;
        }
        
        .hologram-avatar::before {
            content: '';
            position: absolute; top: 0; left: 0; right: 0; bottom: 0;
            background: url('Computer Teacher.png') center/cover;
            opacity: 0.8;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }
        
        .hologram-avatar::after {
            content: '';
            position: absolute; top: -8px; left: -8px; right: -8px; bottom: -8px;
            border: 2px solid transparent;
            border-radius: 50%;
            background: linear-gradient(45deg, #00ff00, #00aa00, #00ff00) border-box;
            mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            mask-composite: subtract;
            animation: ring-rotate 4s linear infinite;
        }
        
        @keyframes ring-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes avatar-glow {
            0% { box-shadow: 0 0 20px #00ff00; transform: scale(1); }
            100% { box-shadow: 0 0 30px #00ff00, 0 0 50px #00aa00; transform: scale(1.05); }
        }
        
        /* Main Container */
        .main-container {
            position: relative; width: 100vw; height: 100vh;
            background: radial-gradient(ellipse at center, #0a2a0a 0%, #1d4d1d 50%, #0f1f0f 100%);
            /* Ensure proper sizing on mobile devices */
            max-width: 100%;
            max-height: 100%;
            /* Add overflow handling for better mobile experience */
            overflow-x: hidden;
            overflow-y: auto;
            /* Fix for iOS Safari */
            -webkit-overflow-scrolling: touch;
        }
        
        #three-canvas {
            position: absolute; top: 0; left: 0; z-index: 1;
        }
        
        /* NEW: Holographic 3D Globe */
        .holographic-globe {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 300px; height: 300px; border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(0, 255, 0, 0.2), transparent 70%);
            box-shadow: 0 0 50px rgba(0, 255, 0, 0.5);
            z-index: 4;
            animation: globe-rotate 30s linear infinite;
            overflow: hidden;
        }
        
        .globe-grid {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                radial-gradient(circle, transparent 40%, rgba(0, 255, 0, 0.1) 40%, rgba(0, 255, 0, 0.1) 41%, transparent 41%),
                repeating-linear-gradient(0deg, transparent, transparent 49%, rgba(0, 255, 0, 0.2) 49%, rgba(0, 255, 0, 0.2) 51%, transparent 51%),
                repeating-linear-gradient(90deg, transparent, transparent 49%, rgba(0, 255, 0, 0.2) 49%, rgba(0, 255, 0, 0.2) 51%, transparent 51%);
            border-radius: 50%;
            animation: grid-rotate 20s linear infinite reverse;
        }
        
        .globe-data-points {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        }
        
        .data-point {
            position: absolute; width: 6px; height: 6px;
            background: #00ff00; border-radius: 50%;
            box-shadow: 0 0 10px #00ff00;
            animation: data-pulse 2s ease-in-out infinite;
        }
        
        @keyframes globe-rotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        @keyframes grid-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes data-pulse {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.5); opacity: 1; }
        }
        
        /* NEW: Quantum Tunnel Effect */
        .quantum-tunnel {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 101;
            opacity: 0;
        }
        
        .tunnel-ring {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            border: 2px solid #00ff00;
            border-radius: 50%;
            box-shadow: 0 0 20px #00ff00;
        }
        
        /* NEW: Holographic Interface Panel */
        .holographic-panel {
            position: absolute; top: 20%; right: 5%; width: 200px; height: 150px;
            background: rgba(0, 20, 0, 0.3);
            border: 1px solid rgba(0, 255, 0, 0.5);
            border-radius: 10px;
            backdrop-filter: blur(5px);
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
            z-index: 11;
            display: flex;
            flex-direction: column;
            padding: 10px;
            animation: panel-glow 4s ease-in-out infinite;
        }
        
        .panel-title {
            color: #00ff00; font-size: 0.8rem; text-align: center;
            margin-bottom: 10px; text-shadow: 0 0 5px #00ff00;
        }
        
        .panel-content {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
        }
        
        .panel-item {
            display: flex;
            justify-content: space-between;
            font-size: 0.7rem;
            color: #00ff88;
        }
        
        .panel-value {
            color: #00ff00;
            font-weight: bold;
        }
        
        @keyframes panel-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 0, 0.3); }
            50% { box-shadow: 0 0 30px rgba(0, 255, 0, 0.6); }
        }
        
        /* NEW: Binary Rain Matrix */
        .binary-rain {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 2;
            pointer-events: none;
        }
        
        .binary-column {
            position: absolute; top: -100px; width: 15px;
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            color: #00ff00;
            text-shadow: 0 0 5px #00ff00;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            animation: binary-fall linear infinite;
        }
        
        @keyframes binary-fall {
            to { transform: translateY(100vh); }
        }
        
        /* Special Message */
        .special-message {
            position: absolute; bottom: 5%; right: 5%; width: 450px;
            background: rgba(0, 20, 0, 0.9); border: 2px solid #00ff00; border-radius: 15px;
            padding: 25px; color: white; font-family: 'Exo 2', sans-serif;
            box-shadow: 0 0 30px #00ff00, inset 0 0 15px rgba(255,255,255,0.1);
            animation: message-pulse 4s ease-in-out infinite;
            backdrop-filter: blur(8px);
            z-index: 1000; /* Increased z-index to ensure visibility */
            max-width: 90%;
            box-sizing: border-box;
            word-wrap: break-word;
            /* Ensure message is readable on mobile */
            max-height: 40%;
            overflow-y: auto;
        }
        
        .message-title {
            font-size: 1.1rem; font-weight: bold; margin-bottom: 10px;
            text-align: center; color: #00ff00;
            text-shadow: 0 0 8px #00ff00;
        }
        
        .message-content {
            font-size: 0.8rem; line-height: 1.5; text-align: justify;
            text-shadow: 0 0 4px rgba(255,255,255,0.3);
        }
        
        @keyframes message-pulse {
            0%, 100% { opacity: 0.8; box-shadow: 0 0 30px #00ff00, inset 0 0 15px rgba(255,255,255,0.1); }
            50% { opacity: 1; box-shadow: 0 0 40px #00ff00, inset 0 0 20px rgba(255,255,255,0.2); }
        }
        

        
        /* AI Avatar Assistant */
        .ai-assistant {
            position: absolute; bottom: 120px; left: 5%; width: 50px; height: 50px;
            background: linear-gradient(45deg, #00ff00, #008800);
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            font-size: 1.2rem; color: black; cursor: pointer;
            animation: ai-float 3s ease-in-out infinite;
            box-shadow: 0 0 25px rgba(0, 255, 0, 0.6);
            transition: all 0.3s ease;
            z-index: 14;
        }
        
        @keyframes ai-float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(180deg); }
        }
        
        .ai-assistant:hover {
            transform: scale(1.2);
            box-shadow: 0 0 40px rgba(0, 255, 255, 1);
        }
        
        /* Particles */
        .particle {
            position: absolute; background: radial-gradient(circle, #00ff00, transparent);
            border-radius: 50%; animation: particle-float 6s ease-in-out infinite;
        }
        
        @keyframes particle-float {
            0%, 100% { transform: translateY(0px) translateX(0px); opacity: 0.3; }
            25% { transform: translateY(-15px) translateX(8px); opacity: 1; }
            50% { transform: translateY(-8px) translateX(-10px); opacity: 0.7; }
            75% { transform: translateY(-20px) translateX(4px); opacity: 0.9; }
        }
        
        /* Hacker-Style Easter Eggs */
        .easter-egg-message {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            background: linear-gradient(45deg, #00ff00, #008800);
            color: black; padding: 15px; border-radius: 12px;
            font-family: 'Orbitron', monospace; font-size: 1rem; font-weight: bold;
            z-index: 1002; box-shadow: 0 0 40px rgba(0, 255, 0, 0.8);
            text-align: center;
            opacity: 0;
            animation: easter-egg-appear 0.5s ease-out forwards;
        }
        
        @keyframes easter-egg-appear {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
        }
        
        /* Programming Language Logos */
        .language-orbit {
            position: absolute; top: 65%; left: 50%; transform: translate(-50%, -50%);
            width: 200px; height: 200px; z-index: 6;
        }
        
        .language-icon {
            position: absolute; width: 30px; height: 30px;
            background: rgba(0, 30, 0, 0.7); border: 1px solid #00aa00;
            border-radius: 50%; display: flex; align-items: center; justify-content: center;
            color: #00ff00; font-size: 1rem; cursor: pointer;
            box-shadow: 0 0 8px rgba(0, 255, 0, 0.3);
            transition: all 0.3s ease;
        }
        
        .language-icon:hover {
            transform: scale(1.2);
            box-shadow: 0 0 15px #00ff00;
            background: rgba(0, 60, 0, 0.9);
        }
        
        /* NEW: Matrix-style quantum code rain with symbols morphing */
        .matrix-code-rain {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 4; pointer-events: none;
        }
        
        .code-column {
            position: absolute; top: -100px; width: 15px;
            font-family: 'Orbitron', monospace;
            font-size: 1rem;
            color: #00ff00;
            text-shadow: 0 0 5px #00ff00;
            writing-mode: vertical-rl;
            text-orientation: mixed;
            animation: code-fall linear infinite;
        }
        
        @keyframes code-fall {
            to { transform: translateY(100vh); }
        }
        
        /* NEW: Glowing neon circuit board background */
        .neon-circuit-board {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background-image: 
                linear-gradient(90deg, rgba(0, 255, 0, 0.1) 1px, transparent 1px),
                linear-gradient(rgba(0, 255, 0, 0.1) 1px, transparent 1px);
            background-size: 40px 40px;
            z-index: 1;
            opacity: 0.3;
        }
        
        .circuit-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, #00ff00, transparent);
            box-shadow: 0 0 10px #00ff00;
            height: 2px;
        }
        
        /* NEW: Holographic Data City */
        .data-city {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 30%;
            z-index: 5; perspective: 1000px;
        }
        
        .city-building {
            position: absolute; bottom: 0;
            width: 8px; background: linear-gradient(to top, #00ff00, #008800);
            box-shadow: 0 0 10px #00ff00;
            animation: building-glow 3s ease-in-out infinite alternate;
        }
        
        @keyframes building-glow {
            0% { box-shadow: 0 0 10px #00ff00; opacity: 0.7; }
            100% { box-shadow: 0 0 20px #00ff00, 0 0 30px #00aa00; opacity: 1; }
        }
        
        .building-window {
            position: absolute; width: 2px; height: 2px;
            background: #00ff00; border-radius: 50%;
            animation: window-blink 2s ease-in-out infinite;
        }
        
        @keyframes window-blink {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; box-shadow: 0 0 5px #00ff00; }
        }
        
        .holo-message {
            position: absolute; top: 10%; left: 50%; transform: translateX(-50%);
            color: #00ff00; font-family: 'Orbitron', monospace;
            font-size: 1rem; 
            text-shadow: 0 0 10px #00ff00;
            animation: message-scroll 20s linear infinite;
            z-index: 6;
            max-width: 90%;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        @keyframes message-scroll {
            0% { transform: translateX(100vw); }
            100% { transform: translateX(-100%); }
        }
        
        /* NEW: AI Sentient Core */
        .ai-core {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 150px; height: 150px; border-radius: 50%;
            background: radial-gradient(circle, #00ff00, #008800, transparent 70%);
            box-shadow: 0 0 50px #00ff00, inset 0 0 20px rgba(0, 255, 0, 0.5);
            z-index: 10;
            animation: core-pulse 4s ease-in-out infinite;
            cursor: pointer;
        }
        
        .core-ring {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 100%; height: 100%; border-radius: 50%;
            border: 2px solid #00ff00;
            animation: ring-rotate 20s linear infinite;
        }
        
        .core-pulse-wave {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 0; height: 0; border-radius: 50%;
            border: 2px solid #00ff00;
            opacity: 0;
        }
        
        @keyframes core-pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 50px #00ff00; }
            50% { transform: translate(-50%, -50%) scale(1.1); box-shadow: 0 0 80px #00ff00, 0 0 100px #00aa00; }
        }
        
        @keyframes ring-rotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        .core-display {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: #00ff00; font-family: 'Orbitron', monospace;
            font-size: 0.8rem; text-align: center;
            text-shadow: 0 0 10px #00ff00;
            width: 100%;
        }
        
        /* NEW: Quantum Particle Field */
        .quantum-field {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 1;
        }
        
        .quantum-particle {
            position: absolute; width: 4px; height: 4px;
            background: #00ff00; border-radius: 50%;
            box-shadow: 0 0 8px #00ff00;
            animation: particle-orbit 10s linear infinite;
        }
        
        @keyframes particle-orbit {
            0% { transform: rotate(0deg) translateX(100px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(100px) rotate(-360deg); }
        }
        
        /* NEW: Neural Data Pathways */
        .neural-pathway {
            position: absolute; height: 2px;
            background: linear-gradient(90deg, transparent, #00ff00, transparent);
            box-shadow: 0 0 10px #00ff00;
            transform-origin: 0 0;
        }
        
        /* NEW: Cinematic Entry/Exit Effects */
        .cinematic-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 10000; pointer-events: none;
            opacity: 0;
        }
        
        /* NEW: 3D Computer Components */
        .computer-components {
            position: absolute; top: 20%; right: 5%; width: 200px; height: 200px;
            z-index: 7; perspective: 1000px;
        }
        
        .components-canvas {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        }
        
        .component {
            position: absolute; width: 50px; height: 30px;
            background: linear-gradient(45deg, #00aa00, #00ff00);
            border: 1px solid #00ff00;
            box-shadow: 0 0 15px #00ff00;
            animation: component-float 6s ease-in-out infinite;
        }
        
        .component-label {
            position: absolute; bottom: -20px; left: 0; width: 100%;
            color: #00ff00; font-size: 0.6rem; text-align: center;
            text-shadow: 0 0 5px #00ff00;
        }
        
        @keyframes component-float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
        }
        
        /* NEW: 3D AI Orb / Core Reactor */
        .ai-orb-container {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 350px; height: 350px; z-index: 9;
        }
        
        .ai-orb {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 180px; height: 180px; border-radius: 50%;
            background: radial-gradient(circle, #00ff00, #008800, transparent 70%);
            box-shadow: 0 0 50px #00ff00, inset 0 0 20px rgba(0, 255, 0, 0.5);
            animation: orb-pulse 4s ease-in-out infinite;
        }
        
        .orb-satellite {
            position: absolute; width: 20px; height: 20px;
            background: #00ff00; border-radius: 50%;
            box-shadow: 0 0 10px #00ff00;
            animation: satellite-orbit 10s linear infinite;
        }
        
        .orb-satellite::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 8px;
            height: 8px;
            background: #008800;
            border-radius: 50%;
        }
        
        .orb-satellite-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #000;
            font-family: 'Orbitron', monospace;
            font-size: 0.5rem;
            font-weight: bold;
            white-space: nowrap;
        }
        
        @keyframes orb-pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 0 50px #00ff00; }
            50% { transform: translate(-50%, -50%) scale(1.1); box-shadow: 0 0 80px #00ff00, 0 0 100px #00aa00; }
        }
        
        @keyframes satellite-orbit {
            0% { transform: translate(-50%, -50%) rotate(0deg) translateX(80px) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg) translateX(80px) rotate(-360deg); }
        }
        
        /* Animated shaders for the AI orb */
        .orb-shader {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                from 0deg,
                transparent 0deg 60deg,
                #00ff00 60deg 120deg,
                transparent 120deg 180deg,
                #00aa00 180deg 240deg,
                transparent 240deg 360deg
            );
            animation: shader-rotate 3s linear infinite;
            mix-blend-mode: overlay;
        }
        
        .orb-lightning {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120%;
            height: 120%;
            background: radial-gradient(
                circle at center,
                transparent 30%,
                rgba(0, 255, 0, 0.8) 30% 35%,
                transparent 35% 40%,
                rgba(0, 255, 0, 0.6) 40% 45%,
                transparent 45%
            );
            animation: lightning-pulse 2s ease-in-out infinite;
            border-radius: 50%;
        }
        
        @keyframes shader-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes lightning-pulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        /* NEW: Futuristic Classroom Diorama (Mini 3D Scene) */
        .classroom-diorama {
            position: absolute; bottom: 5%; left: 5%; width: 200px; height: 150px;
            z-index: 8; perspective: 1000px;
        }
        
        .desk {
            position: absolute; width: 40px; height: 20px;
            background: linear-gradient(45deg, #008800, #00ff00);
            border: 1px solid #00ff00;
            box-shadow: 0 0 10px #00ff00;
            animation: desk-glow 5s ease-in-out infinite;
            transform-style: preserve-3d;
        }
        
        .desk::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(45deg, #00aa00, #00ff88);
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        .desk::after {
            content: '';
            position: absolute;
            top: 0;
            left: -5px;
            width: 5px;
            height: 100%;
            background: linear-gradient(45deg, #00aa00, #00ff88);
            transform: rotateY(90deg);
            transform-origin: left;
        }
        
        .chalkboard {
            position: absolute; top: 10px; left: 50%; transform: translateX(-50%);
            width: 120px; height: 60px; background: #000;
            border: 2px solid #00ff00;
            box-shadow: 0 0 20px #00ff00;
            transform-style: preserve-3d;
        }
        
        .chalkboard::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 0;
            width: 100%;
            height: 5px;
            background: #00aa00;
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        .chalkboard-text {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            color: #00ff00; font-family: 'Orbitron', monospace;
            font-size: 0.8rem; text-align: center;
            text-shadow: 0 0 10px #00ff00;
            animation: text-glow 3s ease-in-out infinite;
        }
        
        .student-avatar {
            position: absolute; width: 15px; height: 15px;
            background: radial-gradient(circle, #00ff00, #008800);
            border-radius: 50%;
            box-shadow: 0 0 8px #00ff00;
            animation: avatar-pulse 3s ease-in-out infinite;
            transform-style: preserve-3d;
        }
        
        .student-avatar::before {
            content: '';
            position: absolute;
            top: -3px;
            left: 0;
            width: 100%;
            height: 3px;
            background: #00aa00;
            border-radius: 3px 3px 0 0;
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        .hologram-teacher {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 40px;
            background: linear-gradient(45deg, rgba(0, 255, 0, 0.3), rgba(0, 255, 0, 0.1));
            border: 1px solid #00ff00;
            box-shadow: 0 0 20px #00ff00;
            animation: teacher-float 4s ease-in-out infinite;
            backdrop-filter: blur(2px);
        }
        
        .hologram-teacher::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, #00ff00, transparent);
            border-radius: 50%;
        }
        
        .hologram-teacher::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 25px;
            height: 15px;
            background: linear-gradient(45deg, #00aa00, transparent);
            border-radius: 50%;
        }
        
        @keyframes desk-glow {
            0%, 100% { box-shadow: 0 0 10px #00ff00; }
            50% { box-shadow: 0 0 20px #00ff00, 0 0 30px #00aa00; }
        }
        
        @keyframes avatar-pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 8px #00ff00; }
            50% { transform: scale(1.2); box-shadow: 0 0 15px #00ff00; }
        }
        
        @keyframes text-glow {
            0%, 100% { text-shadow: 0 0 10px #00ff00; }
            50% { text-shadow: 0 0 20px #00ff00, 0 0 30px #00aa00; }
        }
        
        @keyframes teacher-float {
            0%, 100% { transform: translateX(-50%) translateY(0px); }
            50% { transform: translateX(-50%) translateY(-5px); }
        }
        
        /* Dynamic Code Particles that transform into 3D Models */
        .code-particle {
            position: absolute; width: 4px; height: 4px;
            background: #00ff00; border-radius: 50%;
            box-shadow: 0 0 8px #00ff00;
            z-index: 25;
            transform-style: preserve-3d;
        }
        
        .code-particle::before {
            content: '';
            position: absolute;
            top: -1px;
            left: 0;
            width: 100%;
            height: 1px;
            background: #00aa00;
            border-radius: 1px 1px 0 0;
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        /* 3D Model Particles */
        .model-particle {
            position: absolute;
            width: 20px;
            height: 20px;
            background: radial-gradient(circle, #00ff00, #008800);
            border: 1px solid #00ff00;
            box-shadow: 0 0 15px #00ff00;
            z-index: 30;
            transform-style: preserve-3d;
            animation: model-pulse 2s ease-in-out infinite;
        }
        
        .model-particle.book {
            clip-path: polygon(0 0, 80% 0, 100% 20%, 100% 100%, 0 100%);
        }
        
        .model-particle.computer {
            clip-path: polygon(0 20%, 20% 20%, 20% 0, 80% 0, 80% 20%, 100% 20%, 100% 100%, 0 100%);
        }
        
        .model-particle.symbol {
            clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
        }
        
        .model-particle::after {
            content: '';
            position: absolute;
            top: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: linear-gradient(45deg, #00aa00, #00ff88);
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        @keyframes model-pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 15px #00ff00; }
            50% { transform: scale(1.2); box-shadow: 0 0 25px #00ff00; }
        }
        
        /* Particle Transformation Effect */
        .particle-transform {
            position: absolute;
            width: 30px;
            height: 30px;
            border: 2px solid #00ff00;
            border-radius: 50%;
            box-shadow: 0 0 20px #00ff00;
            z-index: 35;
            animation: particle-transform 1s ease-out forwards;
        }
        
        @keyframes particle-transform {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(1); opacity: 0; }
        }
        
        /* NEW: 3D Neural Network / Brain Simulation */
        .neural-network-3d {
            position: absolute; top: 60%; right: 5%; width: 150px; height: 150px;
            z-index: 8;
        }
        
        .neural-node {
            position: absolute; width: 10px; height: 10px;
            background: radial-gradient(circle, #00ff00, #008800);
            border-radius: 50%;
            box-shadow: 0 0 10px #00ff00;
            animation: node-pulse 2s ease-in-out infinite;
            transform-style: preserve-3d;
        }
        
        .neural-node::before {
            content: '';
            position: absolute;
            top: -3px;
            left: 0;
            width: 100%;
            height: 3px;
            background: #00aa00;
            border-radius: 3px 3px 0 0;
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        .neural-connection {
            position: absolute; height: 2px;
            background: linear-gradient(90deg, #00ff00, transparent);
            transform-origin: 0 0;
            transform-style: preserve-3d;
        }
        
        .neural-connection::before {
            content: '';
            position: absolute;
            top: -1px;
            left: 0;
            width: 100%;
            height: 1px;
            background: #00aa00;
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        .brain-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            perspective: 1000px;
        }
        
        .brain-3d {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120px;
            height: 120px;
            transform-style: preserve-3d;
            animation: brain-rotate 20s infinite linear;
        }
        
        .brain-hemisphere {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, rgba(0, 255, 0, 0.2), transparent 70%);
            box-shadow: 0 0 30px rgba(0, 255, 0, 0.5);
            transform-style: preserve-3d;
        }
        
        .brain-hemisphere.left {
            transform: translateZ(-10px);
        }
        
        .brain-hemisphere.right {
            transform: translateZ(10px);
        }
        
        .brain-surface {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: 
                radial-gradient(circle, transparent 40%, rgba(0, 255, 0, 0.1) 40%, rgba(0, 255, 0, 0.1) 41%, transparent 41%),
                repeating-linear-gradient(0deg, transparent, transparent 49%, rgba(0, 255, 0, 0.2) 49%, rgba(0, 255, 0, 0.2) 51%, transparent 51%),
                repeating-linear-gradient(90deg, transparent, transparent 49%, rgba(0, 255, 0, 0.2) 49%, rgba(0, 255, 0, 0.2) 51%, transparent 51%);
            transform: translateZ(0);
        }
        
        @keyframes brain-rotate {
            0% { transform: translate(-50%, -50%) rotateX(75deg) rotateZ(0deg); }
            100% { transform: translate(-50%, -50%) rotateX(75deg) rotateZ(360deg); }
        }
        
        @keyframes node-pulse {
            0%, 100% { transform: scale(1); box-shadow: 0 0 10px #00ff00; }
            50% { transform: scale(1.5); box-shadow: 0 0 25px #00ff00; }
        }
        
        /* NEW: Sci-Fi Console with 3D Holographic Panels */
        .sci-fi-console {
            position: absolute; top: 25%; left: 5%; width: 250px; height: 150px;
            z-index: 10; perspective: 1000px;
        }
        
        .console-panel {
            position: absolute; width: 100px; height: 80px;
            background: rgba(0, 20, 0, 0.7); border: 1px solid #00ff00;
            border-radius: 8px; backdrop-filter: blur(5px);
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
            transform: rotateY(10deg) rotateX(5deg);
            animation: panel-float 8s ease-in-out infinite;
            transform-style: preserve-3d;
        }
        
        .console-panel::before {
            content: '';
            position: absolute;
            top: -3px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(45deg, #00aa00, #00ff88);
            border-radius: 3px 3px 0 0;
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        .console-panel::after {
            content: '';
            position: absolute;
            top: 0;
            left: -3px;
            width: 3px;
            height: 100%;
            background: linear-gradient(45deg, #00aa00, #00ff88);
            border-radius: 3px 0 0 3px;
            transform: rotateY(90deg);
            transform-origin: left;
        }
        
        .panel-content {
            padding: 10px; color: #00ff00; font-family: 'Orbitron', monospace;
            font-size: 0.7rem;
            position: relative;
            z-index: 2;
        }
        
        .panel-glow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 8px;
            box-shadow: 0 0 20px #00ff00;
            animation: panel-glow 3s ease-in-out infinite;
            z-index: 1;
        }
        
        .panel-hologram {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            background: linear-gradient(45deg, rgba(0, 255, 0, 0.1), rgba(0, 255, 0, 0.3));
            border: 1px solid #00ff00;
            border-radius: 4px;
            animation: hologram-flicker 2s ease-in-out infinite;
            backdrop-filter: blur(1px);
        }
        
        .panel-title {
            color: #00ff00;
            font-size: 0.8rem;
            text-align: center;
            margin-bottom: 5px;
            text-shadow: 0 0 5px #00ff00;
        }
        
        .panel-data {
            color: #00ff88;
            font-size: 0.6rem;
            line-height: 1.2;
        }
        
        .panel-data-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2px;
        }
        
        .panel-data-label {
            font-weight: bold;
        }
        
        .panel-data-value {
            color: #00ff00;
        }
        
        @keyframes panel-float {
            0%, 100% { transform: rotateY(10deg) rotateX(5deg) translateY(0px); }
            50% { transform: rotateY(15deg) rotateX(8deg) translateY(-5px); }
        }
        
        @keyframes panel-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(0, 255, 0, 0.3); }
            50% { box-shadow: 0 0 30px rgba(0, 255, 0, 0.6); }
        }
        
        @keyframes hologram-flicker {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        /* NEW: Glowing Data Portals (3D Wormholes) */
        .data-portal {
            position: absolute; top: 50%; right: 10%; transform: translate(-50%, -50%);
            width: 100px; height: 100px; border-radius: 50%;
            background: radial-gradient(circle, transparent, #00ff00, transparent);
            box-shadow: 0 0 30px #00ff00;
            z-index: 6;
            animation: portal-pulse 3s ease-in-out infinite;
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        .portal-inner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 80%;
            height: 80%;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(0, 0, 0, 0.8), transparent 70%);
            border: 2px solid #00ff00;
            box-shadow: 0 0 20px #00ff00;
            animation: portal-rotate 10s linear infinite;
        }
        
        .portal-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120%;
            height: 120%;
            border-radius: 50%;
            border: 1px solid #00ff00;
            box-shadow: 0 0 10px #00ff00;
            animation: ring-rotate 5s linear infinite reverse;
        }
        
        .portal-ring::before {
            content: '';
            position: absolute;
            top: -1px;
            left: 0;
            width: 100%;
            height: 1px;
            background: #00aa00;
            border-radius: 1px 1px 0 0;
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        .portal-particle {
            position: absolute; width: 4px; height: 4px;
            background: #00ff00; border-radius: 50%;
            box-shadow: 0 0 8px #00ff00;
            animation: particle-stream 5s linear infinite;
            transform-style: preserve-3d;
        }
        
        .portal-particle::before {
            content: '';
            position: absolute;
            top: -1px;
            left: 0;
            width: 100%;
            height: 1px;
            background: #00aa00;
            border-radius: 1px 1px 0 0;
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        .portal-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #00ff00;
            font-family: 'Orbitron', monospace;
            font-size: 0.6rem;
            text-align: center;
            text-shadow: 0 0 5px #00ff00;
            animation: text-glow 2s ease-in-out infinite;
            z-index: 10;
        }
        
        .portal-glow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            box-shadow: 0 0 40px #00ff00;
            animation: portal-glow 4s ease-in-out infinite;
            z-index: 5;
        }
        
        @keyframes portal-pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.7; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
        }
        
        @keyframes portal-rotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        @keyframes ring-rotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        @keyframes particle-stream {
            0% { transform: translate(0, 0) scale(1); opacity: 1; }
            100% { transform: translate(50px, 50px) scale(0); opacity: 0; }
        }
        
        @keyframes text-glow {
            0%, 100% { text-shadow: 0 0 5px #00ff00; }
            50% { text-shadow: 0 0 15px #00ff00, 0 0 25px #00aa00; }
        }
        
        @keyframes portal-glow {
            0%, 100% { box-shadow: 0 0 40px #00ff00; }
            50% { box-shadow: 0 0 60px #00ff00, 0 0 80px #00aa00; }
        }
        
        /* NEW: Voice Visualization Orb with 3D effects */
        .voice-orb {
            position: absolute; bottom: 150px; left: 50%; transform: translateX(-50%);
            width: 50px; height: 50px; border-radius: 50%;
            background: radial-gradient(circle, #00ff00, #008800);
            box-shadow: 0 0 20px #00ff00;
            z-index: 11;
            animation: voice-pulse 2s ease-in-out infinite;
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        .voice-orb::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(45deg, #00aa00, #00ff88);
            border-radius: 5px 5px 0 0;
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        .voice-orb::after {
            content: '';
            position: absolute;
            top: 0;
            left: -5px;
            width: 5px;
            height: 100%;
            background: linear-gradient(45deg, #00aa00, #00ff88);
            border-radius: 5px 0 0 5px;
            transform: rotateY(90deg);
            transform-origin: left;
        }
        
        .waveform {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 60px; height: 20px;
        }
        
        .wave-bar {
            position: absolute; bottom: 0; width: 3px;
            background: #00ff00; transform-origin: bottom;
            animation: wave-animation 1s ease-in-out infinite;
        }
        
        .wave-bar::before {
            content: '';
            position: absolute;
            top: -1px;
            left: 0;
            width: 100%;
            height: 1px;
            background: #00aa00;
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        .voice-glow {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            box-shadow: 0 0 30px #00ff00;
            animation: voice-glow 3s ease-in-out infinite;
            z-index: -1;
        }
        
        .voice-pulse-ring {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0;
            height: 0;
            border: 2px solid #00ff00;
            border-radius: 50%;
            opacity: 0;
            z-index: -1;
        }
        
        @keyframes voice-pulse {
            0%, 100% { transform: translateX(-50%) scale(1); box-shadow: 0 0 20px #00ff00; }
            50% { transform: translateX(-50%) scale(1.1); box-shadow: 0 0 30px #00ff00; }
        }
        
        @keyframes wave-animation {
            0%, 100% { height: 5px; }
            50% { height: 15px; }
        }
        
        @keyframes voice-glow {
            0%, 100% { box-shadow: 0 0 30px #00ff00; }
            50% { box-shadow: 0 0 50px #00ff00, 0 0 70px #00aa00; }
        }
        
        /* Speech Bubble with 3D effect */
        .speech-bubble {
            position: fixed;
            color: #00ff00;
            font-family: 'Orbitron', monospace;
            font-size: 0.8rem;
            text-shadow: 0 0 10px #00ff00;
            z-index: 1000;
            background: rgba(0, 20, 0, 0.8);
            border: 1px solid #00ff00;
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 0 20px #00ff00;
            transform-style: preserve-3d;
            animation: bubble-float 3s ease-in-out infinite;
        }
        
        .speech-bubble::before {
            content: '';
            position: absolute;
            top: -5px;
            left: 0;
            width: 100%;
            height: 5px;
            background: #00aa00;
            border-radius: 5px 5px 0 0;
            transform: rotateX(90deg);
            transform-origin: top;
        }
        
        .speech-bubble::after {
            content: '';
            position: absolute;
            top: 0;
            left: -5px;
            width: 5px;
            height: 100%;
            background: #00aa00;
            border-radius: 5px 0 0 5px;
            transform: rotateY(90deg);
            transform-origin: left;
        }
        
        @keyframes bubble-float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        /* Touch Device Interaction Optimization */
        @media (hover: none) and (pointer: coarse) {
            .custom-cursor {
                display: none;
            }
            
            .cyber-console {
                /* Ensure console is easily accessible on touch devices */
                max-width: 90%;
                max-height: 40%;
            }
            
            .console-text-input {
                /* Larger input field for touch typing */
                min-height: 44px;
                font-size: 1rem;
                padding: 8px 12px;
            }
            
            .console-control,
            .window-control {
                /* Larger touch targets for controls */
                min-width: 20px;
                min-height: 20px;
            }
            
            /* Hide complex animations on touch devices for better performance */
            .quantum-stream,
            .cursor-trail,
            .particle,
            .code-particle {
                display: none !important;
            }
            
            /* Simplify animations on touch devices */
            .avatar-glow,
            .message-pulse,
            .cursor-pulse,
            .orbit-name,
            .ring-rotate,
            .title-glow,
            .rainbow-shift,
            .panel-glow,
            .node-pulse,
            .connection-flow,
            .monitor-pulse,
            .dna-bridge-pulse,
            .grid-pulse,
            .console-type,
            .core-pulse,
            .orb-pulse,
            .satellite-orbit,
            .shader-rotate,
            .lightning-pulse,
            .desk-glow,
            .avatar-pulse,
            .text-glow,
            .teacher-float,
            .model-pulse,
            .brain-rotate,
            .panel-float,
            .portal-pulse,
            .portal-rotate,
            .ring-rotate,
            .particle-stream,
            .text-glow,
            .portal-glow,
            .voice-pulse,
            .wave-animation,
            .voice-glow {
                animation: none !important;
            }
            
            /* Ensure proper scrolling on touch devices */
            body,
            .main-container {
                -webkit-overflow-scrolling: touch;
                touch-action: manipulation;
                -webkit-text-size-adjust: 100%;
            }
            
            /* Adjust positioning for touch devices */
            .special-message {
                max-height: 40%;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
            }
            
            .orbiting-name-container {
                /* Reduce animation complexity on touch devices */
                animation: none;
            }
        }
        
        /* Ensure minimum touch target sizes */
        .ai-assistant,
        .ai-core,
        .hologram-avatar,
        .voice-orb,
        .data-portal,
        .console-control,
        .window-control,
        .control-close,
        .control-minimize,
        .control-maximize {
            min-width: 44px;
            min-height: 44px;
            /* Add visual feedback for touch interactions */
            transition: all 0.2s ease;
        }
        
        .ai-assistant:active,
        .ai-core:active,
        .hologram-avatar:active,
        .voice-orb:active,
        .data-portal:active {
            transform: scale(0.95);
            opacity: 0.8;
        }
        
        /* Mobile-Friendliness */
        /* Mobile (‚â§599px) */
        @media (max-width: 599px) {
            .cyber-title { font-size: 1.5rem; top: 1%; }
            .thank-you-hologram { font-size: 1.2rem; top: 10%; }
            .hologram-avatar { width: 100px; height: 100px; top: 15%; left: 50%; transform: translateX(-50%); z-index: 200; }
            .special-message { width: 90%; max-width: 280px; bottom: 3%; right: 3%; padding: 15px; left: 50%; transform: translateX(-50%); }
            .message-title { font-size: 1rem; }
            .message-content { font-size: 0.75rem; }
            .cyber-console { width: 90%; max-width: 200px; height: 160px; bottom: 20px; right: 20px; font-size: 0.75rem; }
            .console-title { font-size: 0.75rem; }
            .console-text-input { font-size: 0.75rem; }
            .circuit-universe { width: 80px; height: 60px; top: 25%; left: 5%; }
            .neural-network { width: 80px; height: 60px; top: auto; bottom: 30%; left: 5%; }
            .language-orbit { width: 100px; height: 100px; top: auto; bottom: 40%; right: 5%; }
            .system-monitor { width: 100px; height: 60px; bottom: 200px; right: 5%; }
            .monitor-title { font-size: 0.5rem; }
            .dna-stream { width: 20px; height: 80px; top: 30%; left: 5%; }
            .compiler-input { width: 90%; max-width: 250px; bottom: 350px; left: 50%; transform: translateX(-50%); font-size: 0.8rem; }
            .desktop-window { display: none; } /* Hide on mobile for better layout */
            .neon-grid { background-size: 15px 15px; }
            .ai-core { width: 80px; height: 80px; top: 45%; left: 50%; transform: translate(-50%, -50%); }
            .holo-message { font-size: 0.8rem; top: 15%; }
            .computer-components { width: 100px; height: 100px; top: 40%; right: 5%; }
            .ai-orb-container { width: 150px; height: 150px; top: 60%; left: 50%; transform: translate(-50%, -50%); }
            .ai-orb { width: 80px; height: 80px; }
            .classroom-diorama { width: 100px; height: 80px; bottom: 20%; left: 5%; }
            .neural-network-3d { width: 80px; height: 80px; top: 70%; right: 5%; }
            .sci-fi-console { width: 90%; max-width: 180px; height: 100px; top: auto; bottom: 350px; left: 50%; transform: translateX(-50%); z-index: 190; }
            .data-portal { width: 60px; height: 60px; top: 60%; right: 5%; }
            .voice-orb { bottom: 300px; width: 40px; height: 40px; }
            .quantum-stream { display: none; } /* Reduce visual complexity on mobile */
            .orbiting-name-container { width: 200px; height: 200px; }
            .orbiting-name { font-size: 1rem; }
            .card-by-arif { font-size: 0.7rem; bottom: 5px; right: 5px; }
            /* Ensure no elements overlap on small screens */
            .special-message { z-index: 100; }
            .home-button { bottom: 10px; right: 10px; padding: 10px 15px; font-size: 0.8rem; min-width: 100px; }
            .cyber-console { z-index: 90; }
            .sci-fi-console { z-index: 80; }
            /* Ensure hologram avatar doesn't overlap with sci-fi console */
            .hologram-avatar { z-index: 200; }
            .sci-fi-console { z-index: 190; }
        }
        
        /* Tablet (600‚Äì1023px) */
        @media (min-width: 600px) and (max-width: 1023px) {
            .cyber-title { font-size: 2rem; top: 1%; }
            .thank-you-hologram { font-size: 1.5rem; top: 8%; }
            .hologram-avatar { width: 140px; height: 140px; top: 20%; left: 5%; }
            .special-message { width: 320px; bottom: 3%; right: 3%; padding: 20px; }
            .message-title { font-size: 1.1rem; }
            .message-content { font-size: 0.85rem; }
            .cyber-console { width: 350px; height: 240px; bottom: 20px; right: 20px; font-size: 0.85rem; }
            .console-title { font-size: 0.85rem; }
            .console-text-input { font-size: 0.85rem; }
            .circuit-universe { width: 100px; height: 70px; top: 22%; left: 3%; }
            .neural-network { width: 90px; height: 65px; top: 70%; left: 3%; }
            .language-orbit { width: 130px; height: 130px; top: 60%; }
            .system-monitor { width: 110px; height: 65px; bottom: 100px; right: 3%; }
            .monitor-title { font-size: 0.6rem; }
            .dna-stream { width: 25px; height: 90px; top: 45%; left: 3%; }
            .compiler-input { width: 250px; bottom: 100px; font-size: 0.9rem; }
            .desktop-window { display: none; } /* Hide on mobile for better layout */
            .neon-grid { background-size: 20px 20px; }
            .ai-core { width: 100px; height: 100px; top: 45%; }
            .holo-message { font-size: 0.9rem; top: 12%; }
            .computer-components { width: 130px; height: 130px; top: 25%; right: 5%; }
            .ai-orb-container { width: 200px; height: 200px; top: 55%; }
            .ai-orb { width: 100px; height: 100px; }
            .classroom-diorama { width: 130px; height: 100px; bottom: 15%; left: 5%; }
            .neural-network-3d { width: 100px; height: 100px; top: 65%; right: 5%; }
            .sci-fi-console { width: 180px; height: 110px; top: 20%; right: 5%; left: auto; z-index: 190; }
            .data-portal { width: 70px; height: 70px; top: 65%; right: 5%; }
            .voice-orb { bottom: 200px; width: 50px; height: 50px; }
            .orbiting-name-container { width: 250px; height: 250px; }
            .orbiting-name { font-size: 1.2rem; }
            .card-by-arif { font-size: 0.8rem; }
            /* Ensure proper spacing on tablets */
            .special-message { z-index: 100; }
            .home-button { bottom: 15px; right: 15px; padding: 12px 20px; font-size: 0.9rem; }
            /* Ensure hologram avatar doesn't overlap with sci-fi console */
            .hologram-avatar { z-index: 200; }
            .sci-fi-console { z-index: 190; }
        }
        
        /* Desktop (‚â•1024px) - Original design preserved */
        @media (min-width: 1024px) {
            .cyber-title { font-size: 2.8rem; top: 3%; }
            .thank-you-hologram { font-size: 2.2rem; top: 8%; }
            .hologram-avatar { width: 180px; height: 180px; top: 20%; left: 5%; }
            .special-message { width: 320px; bottom: 5%; right: 5%; padding: 25px; }
            .message-title { font-size: 1.1rem; }
            .message-content { font-size: 0.8rem; }
            .cyber-console { width: 400px; height: 280px; bottom: 20px; right: 20px; font-size: 1rem; }
            .console-title { font-size: 0.7rem; }
            .console-text-input { font-size: 0.7rem; }
            .circuit-universe { width: 150px; height: 100px; top: 20%; left: 5%; }
            .neural-network { width: 120px; height: 90px; top: 75%; left: 5%; }
            .language-orbit { width: 150px; height: 150px; top: 65%; }
            .system-monitor { width: 150px; height: 80px; bottom: 120px; right: 5%; }
            .monitor-title { font-size: 0.7rem; }
            .dna-stream { width: 40px; height: 120px; top: 50%; left: 5%; }
            .compiler-input { width: 250px; bottom: 120px; font-size: 0.9rem; }
            .neon-grid { background-size: 30px 30px; }
            .ai-core { width: 180px; height: 180px; top: 45%; left: 50%; transform: translate(-50%, -50%); }
            .holo-message { font-size: 1.2rem; top: 15%; }
            .computer-components { width: 200px; height: 200px; top: 22%; right: 5%; }
            .ai-orb-container { width: 350px; height: 350px; top: 50%; left: 20%; }
            .classroom-diorama { width: 180px; height: 120px; bottom: 15%; left: 5%; }
            .neural-network-3d { width: 150px; height: 150px; top: 70%; right: 5%; }
            .sci-fi-console { width: 250px; height: 150px; top: 30%; left: 5%; z-index: 190; }
            .data-portal { width: 80px; height: 80px; }
            .voice-orb { bottom: 320px; width: 60px; height: 60px; }
            .quantum-stream { display: block; } /* Show on desktop */
            .orbiting-name-container { width: 300px; height: 300px; }
            .orbiting-name { font-size: 1.5rem; }
            .card-by-arif { font-size: 0.9rem; }
            /* Ensure hologram avatar doesn't overlap with sci-fi console */
            .hologram-avatar { z-index: 200; }
            .sci-fi-console { z-index: 190; }
        }
        
        /* Very small screens (‚â§350px) */
        @media (max-width: 350px) {
            .system-monitor { display: none; } /* Hide on very small screens */
            .message-content { font-size: 0.7rem; }
            .message-title { font-size: 0.9rem; }
            .ai-core { width: 70px; height: 70px; top: 45%; }
            .holo-message { font-size: 0.7rem; top: 15%; }
            .computer-components { display: none; } /* Hide on very small screens */
            .ai-orb-container { width: 120px; height: 120px; top: 60%; }
            .ai-orb { width: 60px; height: 60px; }
            .classroom-diorama { width: 80px; height: 60px; bottom: 20%; }
            .neural-network-3d { display: none; } /* Hide on very small screens */
            .sci-fi-console { width: 90%; max-width: 150px; height: 80px; top: auto; bottom: 300px; left: 50%; transform: translateX(-50%); z-index: 190; }
            .data-portal { width: 40px; height: 40px; }
            .special-message { width: 90%; max-width: 200px; }
            .orbiting-name-container { width: 200px; height: 200px; }
            .orbiting-name { font-size: 1rem; }
            .card-by-arif { font-size: 0.7rem; bottom: 5px; right: 5px; }
            .cyber-console { width: 90%; max-width: 200px; height: 160px; bottom: 20px; right: 20px; }
            .hologram-avatar { width: 80px; height: 80px; top: 15%; left: 50%; transform: translateX(-50%); z-index: 200; }
            .thank-you-hologram { font-size: 1rem; top: 12%; }
            .voice-orb { bottom: 300px; width: 30px; height: 30px; }
            /* Ensure critical elements are visible on very small screens */
            .special-message { z-index: 100; }
            .home-button { bottom: 5px; right: 5px; padding: 8px 12px; font-size: 0.75rem; min-width: 80px; }
            /* Ensure hologram avatar doesn't overlap with sci-fi console */
            .hologram-avatar { z-index: 200; }
            .sci-fi-console { z-index: 190; }
        }
    </style>
    <script>
        /**
         * Responsive Auto-Adjustment System for Teacher Cards
         * Automatically adjusts all element sizes based on page dimensions
         */
        (function() {
            'use strict';
            
            // Configuration for different screen sizes
            const breakpoints = {
                mobile: 599,
                tablet: 1023,
                desktop: 1024
            };
            
            // Elements that need adjustment
            const adjustableElements = {
                message: '.special-message',
                title: '.cyber-title, .math-title, .chemistry-title, .physics-title, .english-title, .urdu-title, .pakistan-studies-title',
                avatar: '.hologram-avatar, .teacher-avatar',
                button: '.view-card-btn',
                console: '.cyber-console',
                orbit: '.orbiting-name-container'
            };
            
            // Initialize responsive adjustments
            function initResponsiveAdjustments() {
                console.log('Responsive system: initResponsiveAdjustments called');
                adjustForScreenSize();
                window.addEventListener('resize', debounce(adjustForScreenSize, 100));
                console.log('Responsive system: Event listener added for resize');
            }
            
            // Adjust elements based on current screen size
            function adjustForScreenSize() {
                console.log('Responsive system: adjustForScreenSize called with dimensions', window.innerWidth, 'x', window.innerHeight);
                const width = window.innerWidth;
                const height = window.innerHeight;
                
                // Calculate proportional sizes based on viewport
                const widthPercent = width / 100;
                const heightPercent = height / 100;
                
                // Apply adjustments to all elements
                adjustAllElements(width, height, widthPercent, heightPercent);
                
                // Apply universal adjustments
                adjustUniversalElements(width, height);
                
                // Adjust element positioning to prevent overlap
                adjustElementPositioning(width, height);
            }
            
            // Adjust all elements based on page dimensions
            function adjustAllElements(width, height, widthPercent, heightPercent) {
                console.log('Responsive system: adjustAllElements called');
                // Adjust message box
                const message = document.querySelector(adjustableElements.message);
                console.log('Responsive system: Message element found:', message);
                if (message) {
                    message.style.width = Math.min(width * 0.3, 350) + 'px';
                    message.style.maxWidth = '90%';
                    message.style.left = width > 768 ? 'auto' : '50%';
                    message.style.right = width > 768 ? '5%' : 'auto';
                    message.style.transform = width > 768 ? 'none' : 'translateX(-50%)';
                    message.style.padding = Math.max(15, height * 0.02) + 'px';
                }
                
                // Adjust titles
                const titles = document.querySelectorAll(adjustableElements.title);
                titles.forEach(title => {
                    title.style.fontSize = Math.max(20, Math.min(width * 0.03, height * 0.05)) + 'px';
                });
                
                // Adjust avatars
                const avatars = document.querySelectorAll(adjustableElements.avatar);
                avatars.forEach(avatar => {
                    const size = Math.max(80, Math.min(width * 0.15, height * 0.2, 200));
                    avatar.style.width = size + 'px';
                    avatar.style.height = size + 'px';
                });
                
                // Adjust buttons
                const buttons = document.querySelectorAll(adjustableElements.button);
                console.log('Responsive system: Buttons found:', buttons.length);
                buttons.forEach(button => {
                    button.style.padding = (Math.max(8, height * 0.015)) + 'px ' + (Math.max(15, width * 0.02)) + 'px';
                    button.style.fontSize = Math.max(12, Math.min(width * 0.012, height * 0.025)) + 'px';
                });
                
                // Adjust orbiting name container
                const orbitContainers = document.querySelectorAll(adjustableElements.orbit);
                orbitContainers.forEach(container => {
                    const size = Math.max(150, Math.min(width * 0.3, height * 0.4, 350));
                    container.style.width = size + 'px';
                    container.style.height = size + 'px';
                });
                
                // Adjust console if exists
                const consoles = document.querySelectorAll(adjustableElements.console);
                consoles.forEach(console => {
                    console.style.width = Math.min(width * 0.4, 450) + 'px';
                    console.style.height = Math.min(height * 0.4, 300) + 'px';
                    console.style.padding = Math.max(10, width * 0.01) + 'px';
                });
                
                // Adjust element positioning to prevent overlap
                adjustElementPositioning(width, height);
                
                // Adjust all other elements with proportional sizing
                adjustProportionalElements(width, height, widthPercent, heightPercent);
            }
            
            // Adjust elements with proportional sizing
            function adjustProportionalElements(width, height, widthPercent, heightPercent) {
                // Adjust all elements with class names containing 'element', 'item', 'box', 'card'
                const proportionalElements = document.querySelectorAll('[class*="element"], [class*="item"], [class*="box"], [class*="card"], .floating-equation, .poetry-line, .formula, .particle');
                
                proportionalElements.forEach(element => {
                    // Skip if element has fixed sizing
                    if (element.style.position === 'fixed' || element.style.position === 'absolute') {
                        return;
                    }
                    
                    // Adjust font sizes
                    const currentFontSize = window.getComputedStyle(element).fontSize;
                    if (currentFontSize) {
                        const fontSizeNum = parseFloat(currentFontSize);
                        if (!isNaN(fontSizeNum) && fontSizeNum > 0) {
                            element.style.fontSize = Math.max(10, fontSizeNum * (width / 1200)) + 'px';
                        }
                    }
                    
                    // Adjust padding
                    const currentPadding = window.getComputedStyle(element).padding;
                    if (currentPadding && currentPadding !== '0px') {
                        element.style.padding = Math.max(5, width * 0.01) + 'px';
                    }
                });
                
                // Adjust all floating elements
                const floatingElements = document.querySelectorAll('.particle, .floating-script, .formula, .floating-equation');
                floatingElements.forEach(element => {
                    // Adjust size based on viewport
                    const size = Math.max(5, Math.min(width * 0.02, 20));
                    element.style.width = size + 'px';
                    element.style.height = size + 'px';
                });
            }
            
            // Universal adjustments for all screen sizes
            function adjustUniversalElements(width, height) {
                // Ensure elements don't overlap
                preventOverlapping();
                
                // Adjust for very small screens
                if (width <= 350) {
                    adjustForVerySmallScreens();
                }
                
                // Adjust for landscape orientation
                if (width > height) {
                    adjustForLandscape();
                }
                
                // Adjust for touch devices
                if (isTouchDevice()) {
                    adjustForTouchDevices();
                }
            }
            
            // Prevent elements from overlapping
            function preventOverlapping() {
                // Add z-index management to ensure proper layering
                const elements = document.querySelectorAll('.special-message, .hologram-avatar, .teacher-avatar, .cyber-console, .orbiting-name-container, .computer-components, .ai-orb-container, .classroom-diorama, .neural-network-3d, .sci-fi-console, .voice-orb, .ai-core, .cyber-title, .thank-you-hologram');
                let zIndex = 1000;
                
                elements.forEach(element => {
                    if (element.style.zIndex === '') {
                        element.style.zIndex = zIndex;
                        zIndex += 10;
                    }
                });
                
                // Ensure message box is always on top
                const messageBox = document.querySelector('.special-message');
                if (messageBox) {
                    messageBox.style.zIndex = '2000';
                }
                
                // Ensure title is visible
                const title = document.querySelector('.cyber-title');
                if (title) {
                    title.style.zIndex = '1500';
                }
            }
            
            // Adjustments for very small screens
            function adjustForVerySmallScreens() {
                // Hide non-critical elements
                const nonCriticalElements = document.querySelectorAll('.system-monitor, .computer-components, .neural-network-3d');
                nonCriticalElements.forEach(element => {
                    element.style.display = 'none';
                });
                
                // Adjust font sizes
                const contents = document.querySelectorAll('.message-content');
                contents.forEach(content => {
                    content.style.fontSize = Math.max(12, window.innerWidth * 0.025) + 'px';
                });
            }
            
            // Adjustments for landscape orientation
            function adjustForLandscape() {
                // Adjust positioning for better landscape viewing
                const messages = document.querySelectorAll('.special-message');
                messages.forEach(message => {
                    message.style.bottom = '5%';
                });
            }
            
            // Adjust element positioning to prevent overlap
            function adjustElementPositioning(width, height) {
                // Adjust thank you hologram positioning
                const thankYouHologram = document.querySelector('.thank-you-hologram');
                if (thankYouHologram) {
                    // Move hologram to avoid overlapping with other elements
                    if (width < 768) {
                        thankYouHologram.style.top = '15%';
                        thankYouHologram.style.left = '50%';
                        thankYouHologram.style.transform = 'translateX(-50%)';
                    } else {
                        thankYouHologram.style.top = '8%';
                        thankYouHologram.style.left = '50%';
                        thankYouHologram.style.transform = 'translateX(-50%)';
                    }
                }
                
                // Adjust AI core positioning
                const aiCore = document.querySelector('.ai-core');
                if (aiCore) {
                    if (width < 768) {
                        aiCore.style.top = '40%';
                    } else {
                        aiCore.style.top = '45%';
                    }
                }
                
                // Ensure special message doesn't overlap with other elements
                const specialMessage = document.querySelector('.special-message');
                if (specialMessage) {
                    if (width < 768) {
                        // On mobile, center the message and move it up
                        specialMessage.style.left = '50%';
                        specialMessage.style.right = 'auto';
                        specialMessage.style.transform = 'translateX(-50%)';
                        specialMessage.style.bottom = '25%';
                    } else {
                        // On desktop, position as originally designed
                        specialMessage.style.left = 'auto';
                        specialMessage.style.right = '5%';
                        specialMessage.style.transform = 'none';
                        specialMessage.style.bottom = '5%';
                    }
                }
                
                // Adjust computer components positioning
                const computerComponents = document.querySelector('.computer-components');
                if (computerComponents) {
                    if (width < 768) {
                        computerComponents.style.right = '5%';
                        computerComponents.style.top = '15%';
                    } else {
                        computerComponents.style.right = '5%';
                        computerComponents.style.top = '22%';
                    }
                }
                
                // Adjust hologram avatar positioning to prevent overlap with sci-fi console
                const hologramAvatar = document.querySelector('.hologram-avatar');
                const sciFiConsole = document.querySelector('.sci-fi-console');
                if (hologramAvatar && sciFiConsole) {
                    if (width < 768) {
                        // On mobile, center the avatar and move it away from console
                        hologramAvatar.style.left = '50%';
                        hologramAvatar.style.top = '15%';
                        hologramAvatar.style.transform = 'translateX(-50%)';
                        
                        // Move sci-fi console below the avatar
                        sciFiConsole.style.top = 'auto';
                        sciFiConsole.style.bottom = '350px';
                        sciFiConsole.style.left = '50%';
                        sciFiConsole.style.transform = 'translateX(-50%)';
                    } else if (width < 1024) {
                        // On tablet, position avatar on left and console on right
                        hologramAvatar.style.left = '5%';
                        hologramAvatar.style.top = '20%';
                        hologramAvatar.style.transform = 'none';
                        
                        // Position console on right side
                        sciFiConsole.style.top = '20%';
                        sciFiConsole.style.left = 'auto';
                        sciFiConsole.style.right = '5%';
                        sciFiConsole.style.transform = 'none';
                    } else {
                        // On desktop, use original positioning but ensure no overlap
                        hologramAvatar.style.left = '5%';
                        hologramAvatar.style.top = '20%';
                        hologramAvatar.style.transform = 'none';
                        
                        // Ensure console is positioned correctly
                        sciFiConsole.style.top = '30%';
                        sciFiConsole.style.left = '5%';
                        sciFiConsole.style.transform = 'none';
                    }
                    
                    // Ensure proper z-index layering
                    hologramAvatar.style.zIndex = '200';
                    sciFiConsole.style.zIndex = '190';
                }
            }
            
            // Adjustments for touch devices
            function adjustForTouchDevices() {
                // Add visual feedback for touch interactions
                const interactiveElements = document.querySelectorAll('button, .teacher-card, .view-card-btn');
                interactiveElements.forEach(element => {
                    element.addEventListener('touchstart', function() {
                        this.style.transform = 'scale(0.95)';
                        this.style.opacity = '0.8';
                    });
                    
                    element.addEventListener('touchend', function() {
                        this.style.transform = '';
                        this.style.opacity = '';
                    });
                });
                
                // Ensure adequate touch targets
                const smallElements = document.querySelectorAll('.view-card-btn');
                smallElements.forEach(element => {
                    if (element.offsetWidth < 44 || element.offsetHeight < 44) {
                        element.style.minWidth = '44px';
                        element.style.minHeight = '44px';
                    }
                });
            }
            
            // Check if device is touch-enabled
            function isTouchDevice() {
                return 'ontouchstart' in window || navigator.maxTouchPoints > 0;
            }
            
            // Utility function to debounce resize events
            function debounce(func, wait) {
                let timeout;
                return function executedFunction(...args) {
                    console.log('Responsive system: Debounce triggered');
                    const later = () => {
                        console.log('Responsive system: Debounced function executed');
                        clearTimeout(timeout);
                        func(...args);
                    };
                    clearTimeout(timeout);
                    timeout = setTimeout(later, wait);
                };
            }
            
            // Initialize when DOM is loaded
            console.log('Responsive system: Document ready state is', document.readyState);
            if (document.readyState === 'loading') {
                console.log('Responsive system: Adding DOMContentLoaded listener');
                document.addEventListener('DOMContentLoaded', function() {
                    console.log('Responsive system: DOMContentLoaded event fired');
                    initResponsiveAdjustments();
                });
            } else {
                console.log('Responsive system: Initializing immediately');
                initResponsiveAdjustments();
            }
            
            // Export for global use
            window.ResponsiveAdjuster = {
                adjust: adjustForScreenSize
            };
        })();
    </script>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo">üíª</div>
        <div class="loading-bar">
            <div class="loading-progress" id="loadingProgress"></div>
        </div>
        <div class="loading-text" id="loadingText">INITIALIZING CYBER SYSTEM...</div>
    </div>
    
    <div class="custom-cursor"></div>
    
    <div class="main-container">
        <!-- Ray-Traced Neon Grids -->
        <div class="neon-grid" style="top: 0; left: 0; width: 100%; height: 100%;"></div>
        
        <!-- NEW: Glowing neon circuit board background -->
        <div class="neon-circuit-board" id="neonCircuitBoard" style="top: 0; left: 0; width: 100%; height: 100%;"></div>
        
        <!-- NEW: Matrix-style quantum code rain -->
        <div class="matrix-code-rain" id="matrixCodeRain" style="top: 0; left: 0; width: 100%; height: 100%;"></div>
        
        <!-- NEW: Quantum Particle Field -->
        <div class="quantum-field" id="quantumField" style="top: 0; left: 0; width: 100%; height: 100%;"></div>
        
        <!-- NEW: Holographic Data City -->
        <div class="data-city" id="dataCity" style="bottom: 0; left: 0; width: 100%; height: 25%;"></div>
        
        <!-- NEW: Holographic Message -->
        <div class="holo-message" id="holoMessage" style="top: 15%; left: 50%; transform: translateX(-50%); font-size: 1.2rem;">üåü APPRECIATION FOR MISS REESA - THE BEST COMPUTER TEACHER IN THE CYBERVERSE! üåü</div>
        
        <!-- NEW: 3D Computer Components World -->
        <div class="computer-components" id="computerComponents" style="top: 22%; right: 5%; width: 200px; height: 200px;">
            <canvas class="components-canvas" id="componentsCanvas"></canvas>
        </div>
        
        <!-- NEW: 3D AI Orb / Core Reactor -->
        <div class="ai-orb-container" id="aiOrbContainer" style="top: 50%; left: 20%; width: 350px; height: 350px;"></div>
        
        <!-- NEW: Futuristic Classroom Diorama -->
        <div class="classroom-diorama" id="classroomDiorama" style="bottom: 15%; left: 5%; width: 180px; height: 120px;"></div>
        
        <!-- NEW: 3D Neural Network -->
        <div class="neural-network-3d" id="neuralNetwork3D" style="top: 70%; right: 5%; width: 150px; height: 150px;"></div>
        
        <!-- NEW: Sci-Fi Console with 3D Panels -->
        <div class="sci-fi-console" id="sciFiConsole" style="top: 30%; left: 5%; width: 250px; height: 150px;"></div>
        
        <!-- NEW: Glowing Data Portals -->
        <!-- <div class="data-portal" id="dataPortal"></div> -->
        
        <!-- NEW: Voice Visualization Orb -->
        <div class="voice-orb" id="voiceOrb" style="bottom: 320px; left: 50%; transform: translateX(-50%); width: 60px; height: 60px;">
            <div class="waveform" id="waveform"></div>
        </div>
        
        <canvas id="three-canvas" style="width: 100%; height: 100%;"></canvas>
        
        <!-- Cyberpunk Glow Typography -->
        <div class="cyber-title" style="top: 3%; left: 50%; transform: translateX(-50%); font-size: 2.8rem;">üíª COMPUTER SCIENCE APPRECIATION üíª</div>
        
        <!-- NEW: AI Sentient Core -->
        <div class="ai-core" id="aiCore" style="top: 45%; left: 50%; transform: translate(-50%, -50%); width: 180px; height: 180px;">
            <div class="core-ring"></div>
            <div class="core-display" id="coreDisplay">INITIATING<br>APPRECIATION<br>PROTOCOL</div>
        </div>
        
        <!-- Hologram Teacher Portrait -->
        <div class="hologram-avatar" id="hologramAvatar" style="top: 20%; left: 5%; width: 180px; height: 180px;"></div>
        
        <!-- Special Message -->
        <div class="special-message" style="bottom: 5%; right: 5%; width: 320px;">
            <div class="message-title">üíª Computer Science Teacher</div>
            <div class="message-content">
                üåü Miss Reesa, mere liye aap sirf ek Teacher nahi balkay maa, behn, dost aur rahnuma hain. Aap ka pyaar aur care hamesha dil ko tasalli deta hai, aur aap ka padhane ka tareeqa zindagi bhar yad rahega. Mujhe Computer subject se mohabbat sirf is liye hui ke aap ne isay asaan aur enjoyable banaya. Aap meri zindagi ki sabse khaas teacher hain jo hamesha support aur motivation deti hain.
                <br><br>
                With Love,<br>
                M.Arif
            </div>
        </div>
        
        <!-- üîÆ Futuristic Visuals -->
        
        <!-- Holographic 3D Circuit Universe -->
        <!-- <div class="circuit-universe">
            <div class="circuit-board-3d" id="circuitBoard"></div>
        </div> -->
        
        <!-- Quantum Code Stream -->
        <div class="quantum-stream" id="quantumStream" style="top: 0; left: 0; width: 100%; height: 100%;"></div>
        
        <!-- Neural Network Visualization -->
        <!-- <div class="neural-network" id="neuralNetwork"></div> -->
        
        <!-- Glitch Transition Effects -->
        <div class="glitch-overlay" id="glitchOverlay" style="top: 0; left: 0; width: 100%; height: 100%;"></div>
        
        <!-- Augmented Desktop Simulation (Hidden on mobile for better layout) -->
        <!-- <div class="desktop-window" style="top: 25%; left: 3%; width: 200px; height: 150px; display: none;">
            <div class="window-header">
                <div class="window-title">Code Editor - appreciation.js</div>
                <div class="window-controls">
                    <div class="window-control control-close"></div>
                    <div class="window-control control-minimize"></div>
                    <div class="window-control control-maximize"></div>
                </div>
            </div>
            <div class="window-content">
                // Teacher Appreciation Program<br>
                // Author: M.Arif<br>
                // Date: 2099<br><br>
                function showAppreciation() {<br>
                &nbsp;&nbsp;console.log("Thank you, Miss Reesa!");<br>
                &nbsp;&nbsp;return "Infinite Gratitude";<br>
                }<br><br>
                showAppreciation();
            </div>
        </div>
        
        <div class="desktop-window" style="top: 55%; right: 3%; width: 200px; height: 120px; display: none;">
            <div class="window-header">
                <div class="window-title">AI Assistant</div>
                <div class="window-controls">
                    <div class="window-control control-close"></div>
                    <div class="window-control control-minimize"></div>
                    <div class="window-control control-maximize"></div>
                </div>
            </div>
            <div class="window-content">
                > Analyzing teacher impact...<br>
                > Processing gratitude level...<br>
                > Result: MAXIMUM<br>
                > Sending appreciation packet...
            </div>
        </div> -->
        
        <!-- üéÆ Interactivity & Immersion -->
        
        <!-- Code Compiler Effect -->
        <!-- <input type="text" class="compiler-input" id="compilerInput" placeholder="Type your appreciation (e.g. 'Thank You')">
        <div class="compiler-output" id="compilerOutput"></div> -->
        
        <!-- Cyber Console -->
        <div class="cyber-console" style="bottom: 20px; right: 20px; width: 400px; height: 280px;">
            <div class="console-header">
                <div class="console-title">CYBER APPRECIATION CONSOLE v2.0</div>
                <div class="console-controls">
                    <div class="console-control control-close"></div>
                    <div class="console-control control-minimize"></div>
                    <div class="console-control control-maximize"></div>
                </div>
            </div>
            <div class="console-content" id="consoleContent">
                <div class="console-line">> Initializing Teacher Appreciation Protocol...</div>
                <div class="console-line">> Loading Miss Reesa's impact data...</div>
                <div class="console-line">> Status: LEGENDARY TEACHER DETECTED</div>
                <div class="console-line">> Gratitude Level: MAXIMUM</div>
                <div class="console-line">> System Message: THANK YOU! ‚ù§Ô∏è</div>
                <div class="console-line" id="dynamicMessage">> AI Message: You're an amazing teacher!</div>
            </div>
            <div class="console-input">
                <div class="console-prompt">> </div>
                <input type="text" class="console-text-input" id="consoleInput" placeholder="Type your name...">
            </div>
        </div>
        
        <!-- üñ•Ô∏è Tech-Specific Features -->
        
        <!-- Real-Time System Monitor Widget -->
        <!-- <div class="system-monitor">
            <div class="monitor-title">SYSTEM MONITOR</div>
            <div>CPU: <div class="monitor-bar"><div class="monitor-fill" style="width: 65%;"></div></div></div>
            <div>RAM: <div class="monitor-bar"><div class="monitor-fill" style="width: 45%;"></div></div></div>
            <div>GRATITUDE: <div class="monitor-bar"><div class="monitor-fill" style="width: 100%;"></div></div></div>
        </div> -->
        
        <!-- Digital DNA Stream -->
        <!-- <div class="dna-stream" id="dnaStream"></div> -->
        
        <!-- Programming Language Logos -->
        <!-- <div class="language-orbit" id="languageOrbit"></div> -->
        
        <!-- AI Avatar Assistant -->
        <!-- <div class="ai-assistant" id="aiAssistant">ü§ñ</div> -->
        
        <!-- Cyberpunk Glow Typography -->
        <div class="thank-you-hologram" id="thankYouHologram" style="top: 8%; left: 50%; transform: translateX(-50%); font-size: 2.2rem;">
            &lt;THANK_YOU&gt;<br>TEACHER&lt;/&gt;
        </div>
        
        <!-- Orbiting Name Container -->
        <div class="orbiting-name-container">
            <div class="orbiting-name">Miss Reesa</div>
        </div>
        
        <!-- Card By Arif Signature -->
        <div class="card-by-arif">Card By Arif</div>
        
        <!-- NEW: Cinematic Entry/Exit Effects -->
        <div class="cinematic-overlay" id="cinematicOverlay" style="top: 0; left: 0; width: 100%; height: 100%;"></div>
        

    </div>

    <script>
        // Global variables for Three.js
        let scene, camera, renderer, starField;
        let packetTrails = [];
        let mouseX = 0, mouseY = 0;
        let isDragging = false;
        let recognition;
        
        // Enhanced Cursor with Trails
        const cursor = document.querySelector('.custom-cursor');
        let trailElements = [];
        
        // Check if device supports hover (non-touch)
        const hasHover = window.matchMedia('(hover: hover)').matches;
        
        if (hasHover) {
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
                mouseX = e.clientX;
                mouseY = e.clientY;
                
                // Create cursor trail
                if (Math.random() > 0.7) {
                    createCursorTrail(e.clientX, e.clientY);
                }
            });
        } else {
            // Hide cursor on touch devices
            if (cursor) {
                cursor.style.display = 'none';
            }
            
            // Add touch support for interactive elements
            document.addEventListener('touchstart', (e) => {
                mouseX = e.touches[0].clientX;
                mouseY = e.touches[0].clientY;
            });
            
            document.addEventListener('touchmove', (e) => {
                e.preventDefault();
                mouseX = e.touches[0].clientX;
                mouseY = e.touches[0].clientY;
            });
        }
        
        function createCursorTrail(x, y) {
            const trail = document.createElement('div');
            trail.className = 'cursor-trail';
            trail.style.left = x + 'px';
            trail.style.top = y + 'px';
            document.body.appendChild(trail);
            
            setTimeout(() => {
                document.body.removeChild(trail);
            }, 500);
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize loading screen
            initLoadingScreen();
            
            // Cinematic boot sequence
            cinematicBoot();
            
            initThreeJS();
            initFuturisticElements();
            createParticles();
            initInteractiveElements();
            startConsoleAnimation();
            initSpeechRecognition();
            createPacketTrails();
            // Initialize matrix code rain
            initMatrixCodeRain();
            // Create circuit board background
            createNeonCircuitBoard();
            // NEW: Initialize binary rain matrix
            initBinaryRain();
            // NEW: Initialize holographic globe
            initHolographicGlobe();
            // NEW: Initialize enhanced touch gestures
            initEnhancedTouchGestures();
            // NEW: Initialize holographic data city
            initDataCity();
            // NEW: Initialize quantum particle field
            initQuantumField();
            // NEW: Initialize AI core
            initAICore();
            // NEW: Initialize 3D computer components
            initComputerComponents();
            // NEW: Initialize 3D AI orb
            initAIOrb();
            // NEW: Initialize classroom diorama
            initClassroomDiorama();
            // NEW: Initialize 3D neural network
            initNeuralNetwork3D();
            // NEW: Initialize sci-fi console
            initSciFiConsole();
            // NEW: Initialize data portal
            initDataPortal();
            // NEW: Initialize voice orb
            initVoiceOrb();
        });
        
        // NEW: Initialize 3D Computer Components World
        function initComputerComponents() {
            const container = document.getElementById('computerComponents');
            if (!container) return;
            
            // Set up Three.js scene for computer components
            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer({ 
                canvas: document.getElementById('componentsCanvas'),
                alpha: true,
                antialias: true
            });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.setClearColor(0x000000, 0);
            
            // Add lighting
            const ambientLight = new THREE.AmbientLight(0x00ff00, 0.5);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0x00ff00, 1);
            directionalLight.position.set(5, 5, 5);
            scene.add(directionalLight);
            
            // Create computer components as 3D models
            const components = [];
            
            // CPU - Central Processing Unit
            const cpuGeometry = new THREE.BoxGeometry(1.5, 0.3, 1.5);
            const cpuMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x00cc00,
                emissive: 0x004400,
                shininess: 100
            });
            const cpu = new THREE.Mesh(cpuGeometry, cpuMaterial);
            cpu.position.set(-2, 0, 0);
            scene.add(cpu);
            components.push(cpu);
            
            // GPU - Graphics Processing Unit
            const gpuGeometry = new THREE.BoxGeometry(1.8, 0.4, 1.2);
            const gpuMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x00ff00,
                emissive: 0x005500,
                shininess: 100
            });
            const gpu = new THREE.Mesh(gpuGeometry, gpuMaterial);
            gpu.position.set(2, 0, 0);
            scene.add(gpu);
            components.push(gpu);
            
            // HDD - Hard Disk Drive
            const hddGeometry = new THREE.CylinderGeometry(0.8, 0.8, 0.2, 32);
            const hddMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x00aa00,
                emissive: 0x003300,
                shininess: 80
            });
            const hdd = new THREE.Mesh(hddGeometry, hddMaterial);
            hdd.position.set(0, -1.5, 0);
            hdd.rotation.x = Math.PI / 2;
            scene.add(hdd);
            components.push(hdd);
            
            // Motherboard - Main circuit board
            const moboGeometry = new THREE.BoxGeometry(3, 0.1, 2.5);
            const moboMaterial = new THREE.MeshPhongMaterial({ 
                color: 0x008800,
                emissive: 0x002200,
                shininess: 60
            });
            const mobo = new THREE.Mesh(moboGeometry, moboMaterial);
            mobo.position.set(0, -0.5, 0);
            scene.add(mobo);
            
            // Add component details to motherboard
            for (let i = 0; i < 30; i++) {
                const compGeometry = new THREE.BoxGeometry(0.15, 0.12, 0.15);
                const compMaterial = new THREE.MeshPhongMaterial({ 
                    color: 0x00ff00,
                    emissive: 0x005500
                });
                const component = new THREE.Mesh(compGeometry, compMaterial);
                
                component.position.set(
                    (Math.random() - 0.5) * 2.7,
                    -0.44,
                    (Math.random() - 0.5) * 2.2
                );
                
                scene.add(component);
            }
            
            // Position camera
            camera.position.z = 5;
            
            // Add floating monitors with appreciation text
            for (let i = 0; i < 2; i++) {
                const monitor = document.createElement('div');
                monitor.style.position = 'absolute';
                monitor.style.width = '60px';
                monitor.style.height = '40px';
                monitor.style.background = 'linear-gradient(45deg, #001100, #002200)';
                monitor.style.border = '2px solid #00ff00';
                monitor.style.boxShadow = '0 0 15px #00ff00';
                monitor.style.top = (20 + i * 30) + '%';
                monitor.style.left = '30%';
                monitor.style.animation = `component-float 7s ease-in-out infinite`;
                monitor.style.animationDelay = (i * 0.5) + 's';
                monitor.style.zIndex = '10';
                
                // Add appreciation text
                const text = document.createElement('div');
                text.style.position = 'absolute';
                text.style.top = '50%';
                text.style.left = '50%';
                text.style.transform = 'translate(-50%, -50%)';
                text.style.color = '#00ff00';
                text.style.fontFamily = "'Orbitron', monospace";
                text.style.fontSize = '0.5rem';
                text.style.textAlign = 'center';
                text.style.textShadow = '0 0 5px #00ff00';
                text.textContent = 'THANK YOU';
                
                monitor.appendChild(text);
                container.appendChild(monitor);
            }
            
            // Add component labels
            const labels = [
                { name: 'CPU', top: '10%', left: '10%' },
                { name: 'GPU', top: '10%', left: '70%' },
                { name: 'HDD', top: '70%', left: '10%' },
                { name: 'MOBO', top: '70%', left: '70%' }
            ];
            
            labels.forEach(label => {
                const labelElement = document.createElement('div');
                labelElement.className = 'component';
                labelElement.style.top = label.top;
                labelElement.style.left = label.left;
                labelElement.innerHTML = `<div class="component-label">${label.name}</div>`;
                labelElement.style.animationDelay = (Math.random() * 2) + 's';
                labelElement.style.zIndex = '10';
                container.appendChild(labelElement);
            });
            
            // Animation loop
            function animate() {
                requestAnimationFrame(animate);
                
                // Rotate components
                components.forEach((component, index) => {
                    component.rotation.x += 0.01;
                    component.rotation.y += 0.01;
                    component.position.y = Math.sin(Date.now() * 0.001 + index) * 0.1;
                });
                
                // Pulsing effect for motherboard
                mobo.scale.y = 1 + Math.sin(Date.now() * 0.002) * 0.05;
                
                renderer.render(scene, camera);
            }
            
            // Handle window resize
            function onWindowResize() {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            }
            
            window.addEventListener('resize', onWindowResize, false);
            
            // Start animation
            animate();
        }
        
        // NEW: Initialize 3D AI Orb / Core Reactor
        function initAIOrb() {
            const container = document.getElementById('aiOrbContainer');
            if (!container) return;
            
            // Detect if we're on a mobile device
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
            
            // Create main orb with animated shaders
            const orb = document.createElement('div');
            orb.className = 'ai-orb';
            container.appendChild(orb);
            
            // Add shader effects - simplified on mobile
            if (!isMobile) {
                const shader = document.createElement('div');
                shader.className = 'orb-shader';
                orb.appendChild(shader);
                
                const lightning = document.createElement('div');
                lightning.className = 'orb-lightning';
                orb.appendChild(lightning);
            }
            
            // Create orbiting satellites with appreciation words - fewer on mobile
            const words = isMobile ? ['THANK', 'YOU', 'TEACHER'] : ['THANK', 'YOU', 'TEACHER', 'MISS', 'REESE', 'BEST', 'COMPUTER', 'SCIENCE'];
            
            words.forEach((word, index) => {
                const satellite = document.createElement('div');
                satellite.className = 'orb-satellite';
                
                // Simplified animation on mobile
                if (isMobile) {
                    satellite.style.animation = `satellite-orbit ${20 + index * 2}s linear infinite`;
                } else {
                    satellite.style.animation = `satellite-orbit ${15 + index * 1.5}s linear infinite`;
                }
                satellite.style.animationDelay = (index * 0.5) + 's';
                
                // Add word text
                const text = document.createElement('div');
                text.className = 'orb-satellite-text';
                text.textContent = word;
                satellite.appendChild(text);
                
                container.appendChild(satellite);
            });
            
            // Add interactive pulsing effect
            orb.addEventListener('click', () => {
                // Create pulse wave effect
                const pulse = document.createElement('div');
                pulse.style.position = 'absolute';
                pulse.style.top = '50%';
                pulse.style.left = '50%';
                pulse.style.transform = 'translate(-50%, -50%)';
                pulse.style.width = '100px';
                pulse.style.height = '100px';
                pulse.style.border = '2px solid #00ff00';
                pulse.style.borderRadius = '50%';
                pulse.style.animation = 'orb-pulse 1s ease-out forwards';
                
                // Add animation to head
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes orb-pulse {
                        0% { width: 100px; height: 100px; opacity: 1; }
                        100% { width: 300px; height: 300px; opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
                
                container.appendChild(pulse);
                
                // Remove pulse and style after animation
                setTimeout(() => {
                    if (pulse.parentNode) {
                        pulse.parentNode.removeChild(pulse);
                    }
                    if (style.parentNode) {
                        style.parentNode.removeChild(style);
                    }
                }, 1000);
                
                // Enhance all satellites temporarily
                const satellites = container.querySelectorAll('.orb-satellite');
                satellites.forEach(sat => {
                    sat.style.boxShadow = '0 0 20px #00ff00';
                    sat.style.transform = 'scale(1.5)';
                    setTimeout(() => {
                        sat.style.boxShadow = '0 0 10px #00ff00';
                        sat.style.transform = '';
                    }, 1000);
                });
            });
        }
        
        // NEW: Initialize Classroom Diorama
        function initClassroomDiorama() {
            const diorama = document.getElementById('classroomDiorama');
            if (!diorama) return;
            
            // Create 3D visualization container
            const threeContainer = document.createElement('div');
            threeContainer.style.position = 'absolute';
            threeContainer.style.top = '0';
            threeContainer.style.left = '0';
            threeContainer.style.width = '100%';
            threeContainer.style.height = '100%';
            threeContainer.style.perspective = '1000px';
            diorama.appendChild(threeContainer);
            
            // Create desks with 3D effect
            for (let i = 0; i < 3; i++) {
                const desk = document.createElement('div');
                desk.className = 'desk';
                desk.style.top = (30 + i * 25) + 'px';
                desk.style.left = (20 + i * 30) + 'px';
                desk.style.animationDelay = (i * 0.3) + 's';
                
                // Add 3D effect with pseudo-elements
                const topSurface = document.createElement('div');
                topSurface.style.position = 'absolute';
                topSurface.style.top = '-5px';
                topSurface.style.left = '0';
                topSurface.style.width = '100%';
                topSurface.style.height = '5px';
                topSurface.style.background = 'linear-gradient(45deg, #00aa00, #00ff88)';
                topSurface.style.transform = 'rotateX(90deg)';
                topSurface.style.transformOrigin = 'top';
                desk.appendChild(topSurface);
                
                const sideSurface = document.createElement('div');
                sideSurface.style.position = 'absolute';
                sideSurface.style.top = '0';
                sideSurface.style.left = '-5px';
                sideSurface.style.width = '5px';
                sideSurface.style.height = '100%';
                sideSurface.style.background = 'linear-gradient(45deg, #00aa00, #00ff88)';
                sideSurface.style.transform = 'rotateY(90deg)';
                sideSurface.style.transformOrigin = 'left';
                desk.appendChild(sideSurface);
                
                diorama.appendChild(desk);
            }
            
            // Create chalkboard with 3D effect
            const chalkboard = document.createElement('div');
            chalkboard.className = 'chalkboard';
            
            const chalkboardText = document.createElement('div');
            chalkboardText.className = 'chalkboard-text';
            chalkboardText.innerHTML = 'THANK YOU<br>MISS REESA<br>01010011 01000011 01001001 01000101 01001110 01000011 01000101';
            chalkboard.appendChild(chalkboardText);
            
            // Add 3D effect to chalkboard
            const chalkboardTop = document.createElement('div');
            chalkboardTop.style.position = 'absolute';
            chalkboardTop.style.top = '-5px';
            chalkboardTop.style.left = '0';
            chalkboardTop.style.width = '100%';
            chalkboardTop.style.height = '5px';
            chalkboardTop.style.background = '#00aa00';
            chalkboardTop.style.transform = 'rotateX(90deg)';
            chalkboardTop.style.transformOrigin = 'top';
            chalkboard.appendChild(chalkboardTop);
            
            diorama.appendChild(chalkboard);
            
            // Create student avatars with 3D effect
            for (let i = 0; i < 5; i++) {
                const avatar = document.createElement('div');
                avatar.className = 'student-avatar';
                avatar.style.top = (40 + Math.random() * 40) + 'px';
                avatar.style.left = (30 + Math.random() * 100) + 'px';
                avatar.style.animationDelay = (Math.random() * 2) + 's';
                
                // Add 3D effect to avatar
                const avatarTop = document.createElement('div');
                avatarTop.style.position = 'absolute';
                avatarTop.style.top = '-3px';
                avatarTop.style.left = '0';
                avatarTop.style.width = '100%';
                avatarTop.style.height = '3px';
                avatarTop.style.background = '#00aa00';
                avatarTop.style.borderRadius = '3px 3px 0 0';
                avatarTop.style.transform = 'rotateX(90deg)';
                avatarTop.style.transformOrigin = 'top';
                avatar.appendChild(avatarTop);
                
                diorama.appendChild(avatar);
            }
            
            // Create holographic teacher
            const teacher = document.createElement('div');
            teacher.className = 'hologram-teacher';
            diorama.appendChild(teacher);
            
            // Add interactive effect to classroom
            diorama.addEventListener('click', () => {
                // Make all elements glow
                const elements = diorama.querySelectorAll('.desk, .student-avatar');
                elements.forEach(el => {
                    el.style.boxShadow = '0 0 20px #00ff00';
                    setTimeout(() => {
                        el.style.boxShadow = '0 0 10px #00ff00';
                    }, 1000);
                });
                
                // Make chalkboard text glow
                chalkboardText.style.textShadow = '0 0 20px #00ff00';
                setTimeout(() => {
                    chalkboardText.style.textShadow = '0 0 10px #00ff00';
                }, 1000);
            });
        }
        
        // NEW: Initialize 3D Neural Network / Brain Simulation
        function initNeuralNetwork3D() {
            const network = document.getElementById('neuralNetwork3D');
            if (!network) return;
            
            // Detect if we're on a mobile device
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
            
            // Create 3D brain visualization container
            const brainContainer = document.createElement('div');
            brainContainer.className = 'brain-container';
            network.appendChild(brainContainer);
            
            // Create 3D brain model
            const brain3D = document.createElement('div');
            brain3D.className = 'brain-3d';
            brainContainer.appendChild(brain3D);
            
            // Create brain hemispheres
            const leftHemisphere = document.createElement('div');
            leftHemisphere.className = 'brain-hemisphere left';
            brain3D.appendChild(leftHemisphere);
            
            const rightHemisphere = document.createElement('div');
            rightHemisphere.className = 'brain-hemisphere right';
            brain3D.appendChild(rightHemisphere);
            
            // Add brain surface details - simplified on mobile
            const surface = document.createElement('div');
            surface.className = 'brain-surface';
            brain3D.appendChild(surface);
            
            // Create neural nodes in 3D pattern - fewer on mobile
            const nodes = [];
            const nodeCount = isMobile ? 10 : 20;
            
            for (let i = 0; i < nodeCount; i++) {
                const node = document.createElement('div');
                node.className = 'neural-node';
                
                // Position nodes in 3D spherical pattern
                const phi = Math.acos(-1 + (2 * i) / nodeCount);
                const theta = Math.sqrt(nodeCount * Math.PI) * phi;
                
                // Convert to 2D screen coordinates for display
                const x = 50 + 40 * Math.cos(theta) * Math.sin(phi);
                const y = 50 + 40 * Math.sin(theta) * Math.sin(phi);
                
                node.style.left = x + 'px';
                node.style.top = y + 'px';
                node.style.animationDelay = (i * 0.1) + 's';
                
                // Add 3D effect to node - simplified on mobile
                if (!isMobile) {
                    const nodeTop = document.createElement('div');
                    nodeTop.style.position = 'absolute';
                    nodeTop.style.top = '-3px';
                    nodeTop.style.left = '0';
                    nodeTop.style.width = '100%';
                    nodeTop.style.height = '3px';
                    nodeTop.style.background = '#00aa00';
                    nodeTop.style.borderRadius = '3px 3px 0 0';
                    nodeTop.style.transform = 'rotateX(90deg)';
                    nodeTop.style.transformOrigin = 'top';
                    node.appendChild(nodeTop);
                }
                
                network.appendChild(node);
                nodes.push({element: node, x: x, y: y});
            }
            
            // Create neural connections with 3D effect - fewer on mobile
            const connectionCount = isMobile ? 15 : 30;
            for (let i = 0; i < connectionCount; i++) {
                const connection = document.createElement('div');
                connection.className = 'neural-connection';
                
                // Connect random nodes
                const fromIndex = Math.floor(Math.random() * nodes.length);
                const toIndex = Math.floor(Math.random() * nodes.length);
                
                if (fromIndex !== toIndex) {
                    const from = nodes[fromIndex];
                    const to = nodes[toIndex];
                    
                    const length = Math.sqrt(Math.pow(to.x - from.x, 2) + Math.pow(to.y - from.y, 2));
                    const angle = Math.atan2(to.y - from.y, to.x - from.x) * 180 / Math.PI;
                    
                    connection.style.width = length + 'px';
                    connection.style.left = from.x + 'px';
                    connection.style.top = from.y + 'px';
                    connection.style.transform = `rotate(${angle}deg)`;
                    connection.style.animationDelay = (i * 0.05) + 's';
                    
                    // Add 3D effect to connection - simplified on mobile
                    if (!isMobile) {
                        const connectionTop = document.createElement('div');
                        connectionTop.style.position = 'absolute';
                        connectionTop.style.top = '-1px';
                        connectionTop.style.left = '0';
                        connectionTop.style.width = '100%';
                        connectionTop.style.height = '1px';
                        connectionTop.style.background = '#00aa00';
                        connectionTop.style.transform = 'rotateX(90deg)';
                        connectionTop.style.transformOrigin = 'top';
                        connection.appendChild(connectionTop);
                    }
                    
                    network.appendChild(connection);
                }
            }
            
            // Add pulsing effect to spell teacher's name
            setTimeout(() => {
                const name = "MISS REESA";
                let index = 0;
                
                const pulseName = () => {
                    if (index < name.length && index < nodes.length) {
                        const node = nodes[index].element;
                        node.style.animation = 'none';
                        node.style.boxShadow = '0 0 30px #00ff00';
                        
                        // Add 3D pulse effect
                        node.style.transform = 'scale(2) translateZ(10px)';
                        
                        setTimeout(() => {
                            node.style.animation = 'node-pulse 2s ease-in-out infinite';
                            node.style.boxShadow = '0 0 10px #00ff00';
                            node.style.transform = 'scale(1) translateZ(0)';
                        }, 1000);
                        
                        index++;
                        setTimeout(pulseName, 500);
                    }
                };
                
                pulseName();
            }, 5000);
            
            // Add interactive rotation effect
            let isRotating = false;
            brain3D.addEventListener('click', () => {
                if (!isRotating) {
                    isRotating = true;
                    brain3D.style.animation = 'brain-rotate 5s infinite linear';
                    
                    // Highlight all nodes
                    nodes.forEach(node => {
                        node.element.style.boxShadow = '0 0 20px #00ff00';
                        node.element.style.transform = 'scale(1.5) translateZ(5px)';
                    });
                    
                    setTimeout(() => {
                        brain3D.style.animation = 'brain-rotate 20s infinite linear';
                        nodes.forEach(node => {
                            node.element.style.boxShadow = '0 0 10px #00ff00';
                            node.element.style.transform = 'scale(1) translateZ(0)';
                        });
                        isRotating = false;
                    }, 3000);
                }
            });
        }
        
        // NEW: Initialize Sci-Fi Console with 3D Holographic Panels
        function initSciFiConsole() {
            const console = document.getElementById('sciFiConsole');
            if (!console) return;
            
            // Create 3D visualization container
            const threeContainer = document.createElement('div');
            threeContainer.style.position = 'absolute';
            threeContainer.style.top = '0';
            threeContainer.style.left = '0';
            threeContainer.style.width = '100%';
            threeContainer.style.height = '100%';
            threeContainer.style.perspective = '1000px';
            console.appendChild(threeContainer);
            
            // Create panels with 3D effects
            const panels = [
                { 
                    top: '0px', 
                    left: '0px', 
                    title: 'TEACHER PROFILE',
                    data: [
                        { label: 'Name', value: 'MISS REESA' },
                        { label: 'Subject', value: 'COMPUTER SCIENCE' },
                        { label: 'Status', value: 'LEGENDARY' }
                    ]
                },
                { 
                    top: '0px', 
                    left: '120px', 
                    title: 'SYSTEM STATS',
                    data: [
                        { label: 'CPU', value: '98%' },
                        { label: 'RAM', value: '92%' },
                        { label: 'GRATITUDE', value: 'MAXIMUM' }
                    ]
                },
                { 
                    top: '70px', 
                    left: '60px', 
                    title: 'APPRECIATION LOG',
                    data: [
                        { label: 'Messages', value: 'INFINITE' },
                        { label: 'Impact', value: 'ETERNAL' },
                        { label: 'Rating', value: '5/5 STARS' }
                    ]
                }
            ];
            
            panels.forEach((panelData, index) => {
                const panel = document.createElement('div');
                panel.className = 'console-panel';
                panel.style.top = panelData.top;
                panel.style.left = panelData.left;
                panel.style.animationDelay = (index * 0.5) + 's';
                
                // Add 3D effects
                const topSurface = document.createElement('div');
                topSurface.style.position = 'absolute';
                topSurface.style.top = '-3px';
                topSurface.style.left = '0';
                topSurface.style.width = '100%';
                topSurface.style.height = '3px';
                topSurface.style.background = 'linear-gradient(45deg, #00aa00, #00ff88)';
                topSurface.style.borderRadius = '3px 3px 0 0';
                topSurface.style.transform = 'rotateX(90deg)';
                topSurface.style.transformOrigin = 'top';
                panel.appendChild(topSurface);
                
                const sideSurface = document.createElement('div');
                sideSurface.style.position = 'absolute';
                sideSurface.style.top = '0';
                sideSurface.style.left = '-3px';
                sideSurface.style.width = '3px';
                sideSurface.style.height = '100%';
                sideSurface.style.background = 'linear-gradient(45deg, #00aa00, #00ff88)';
                sideSurface.style.borderRadius = '3px 0 0 3px';
                sideSurface.style.transform = 'rotateY(90deg)';
                sideSurface.style.transformOrigin = 'left';
                panel.appendChild(sideSurface);
                
                // Add glow effect
                const glow = document.createElement('div');
                glow.className = 'panel-glow';
                panel.appendChild(glow);
                
                // Add hologram effect
                const hologram = document.createElement('div');
                hologram.className = 'panel-hologram';
                panel.appendChild(hologram);
                
                // Add content
                const content = document.createElement('div');
                content.className = 'panel-content';
                
                // Add title
                const title = document.createElement('div');
                title.className = 'panel-title';
                title.textContent = panelData.title;
                content.appendChild(title);
                
                // Add data
                const dataContainer = document.createElement('div');
                dataContainer.className = 'panel-data';
                
                panelData.data.forEach(item => {
                    const dataItem = document.createElement('div');
                    dataItem.className = 'panel-data-item';
                    
                    const label = document.createElement('span');
                    label.className = 'panel-data-label';
                    label.textContent = item.label + ':';
                    
                    const value = document.createElement('span');
                    value.className = 'panel-data-value';
                    value.textContent = item.value;
                    
                    dataItem.appendChild(label);
                    dataItem.appendChild(value);
                    dataContainer.appendChild(dataItem);
                });
                
                content.appendChild(dataContainer);
                panel.appendChild(content);
                console.appendChild(panel);
            });
            
            // Add interactive effect to console
            console.addEventListener('click', (e) => {
                // Only trigger if clicking on a panel
                if (e.target.closest('.console-panel')) {
                    const panels = console.querySelectorAll('.console-panel');
                    panels.forEach(panel => {
                        panel.style.boxShadow = '0 0 30px #00ff00';
                        panel.style.transform = 'rotateY(20deg) rotateX(10deg) scale(1.1)';
                        
                        setTimeout(() => {
                            panel.style.boxShadow = '0 0 20px rgba(0, 255, 0, 0.3)';
                            panel.style.transform = 'rotateY(10deg) rotateX(5deg)';
                        }, 1000);
                    });
                }
            });
            
            // Add gyroscope effect (simulated)
            let tiltX = 0;
            let tiltY = 0;
            
            // Simulate device motion with mouse movement
            console.addEventListener('mousemove', (e) => {
                const rect = console.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                
                tiltX = (e.clientX - centerX) / 50;
                tiltY = (e.clientY - centerY) / 50;
                
                const panels = console.querySelectorAll('.console-panel');
                panels.forEach((panel, index) => {
                    const baseRotationY = 10;
                    const baseRotationX = 5;
                    panel.style.transform = `rotateY(${baseRotationY + tiltX}deg) rotateX(${baseRotationX + tiltY}deg)`;
                });
            });
        }
        
        // NEW: Initialize Data Portal
        function initDataPortal() {
            const portal = document.getElementById('dataPortal');
            if (!portal) return;
            
            // Create portal frame
            const frame = document.createElement('div');
            frame.className = 'portal-frame';
            portal.appendChild(frame);
            
            // Create portal glow
            const glow = document.createElement('div');
            glow.className = 'portal-glow';
            portal.appendChild(glow);
            
            // Create portal text
            const text = document.createElement('div');
            text.className = 'portal-text';
            text.textContent = 'DATA PORTAL';
            portal.appendChild(text);
        }
        
        // NEW: Initialize Voice Orb
        function initVoiceOrb() {
            const orb = document.getElementById('voiceOrb');
            if (!orb) return;
            
            // Create orb container
            const container = document.createElement('div');
            container.className = 'orb-container';
            orb.appendChild(container);
            
            // Create orb
            const orbElement = document.createElement('div');
            orbElement.className = 'orb';
            container.appendChild(orbElement);
            
            // Create orb glow
            const glow = document.createElement('div');
            glow.className = 'orb-glow';
            container.appendChild(glow);
            
            // Create orb text
            const text = document.createElement('div');
            text.className = 'orb-text';
            text.textContent = 'VOICE';
            container.appendChild(text);
        }
        
        // Initialize Three.js
        function initThreeJS() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(window.devicePixelRatio || 1);
            document.body.appendChild(renderer.domElement);
            
            // Detect if we're on a mobile device
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
            
            // Reduce number of stars on mobile for better performance
            const starCount = isMobile ? 500 : 1000;
            
            // Add stars
            for (let i = 0; i < starCount; i++) {
                const geometry = new THREE.SphereGeometry(0.1, 16, 16);
                const material = new THREE.MeshBasicMaterial({ color: 0xffffff });
                const star = new THREE.Mesh(geometry, material);
                star.position.x = (Math.random() - 0.5) * 2000;
                star.position.y = (Math.random() - 0.5) * 2000;
                star.position.z = (Math.random() - 0.5) * 2000;
                scene.add(star);
                stars.push(star);
            }
            
            // Position camera
            camera.position.z = 5;
            
            // Animation loop
            function animate() {
                requestAnimationFrame(animate);
                
                // Rotate stars
                stars.forEach(star => {
                    star.rotation.x += 0.01;
                    star.rotation.y += 0.01;
                });
                
                renderer.render(scene, camera);
            }
            
            // Handle window resize
            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(window.devicePixelRatio || 1);
            }
            
            window.addEventListener('resize', onWindowResize, false);
            
            // Start animation
            animate();
        }
        
        // Initialize futuristic elements
        function initFuturisticElements() {
            // Add neon glow effect to elements
            const elements = document.querySelectorAll('.neon-glow');
            elements.forEach(element => {
                element.style.textShadow = '0 0 10px #00ff00, 0 0 20px #00ff00, 0 0 30px #00ff00, 0 0 40px #00ff00, 0 0 50px #00ff00, 0 0 60px #00ff00, 0 0 70px #00ff00';
            });
            
            // Add hover effect to buttons
            const buttons = document.querySelectorAll('.hover-effect');
            buttons.forEach(button => {
                button.addEventListener('mouseenter', () => {
                    button.style.backgroundColor = '#00ff00';
                    button.style.color = '#000000';
                });
                button.addEventListener('mouseleave', () => {
                    button.style.backgroundColor = '#000000';
                    button.style.color = '#00ff00';
                });
            });
        }
        
        // Create particles
        function createParticles() {
            const particleContainer = document.getElementById('particleContainer');
            if (!particleContainer) return;
            
            for (let i = 0; i < 100; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = (Math.random() * 100) + '%';
                particle.style.top = (Math.random() * 100) + '%';
                particle.style.animationDelay = (Math.random() * 5) + 's';
                particleContainer.appendChild(particle);
            }
        }
        
        // Initialize interactive elements
        function initInteractiveElements() {
            // Add drag-and-drop functionality to elements
            const draggableElements = document.querySelectorAll('.draggable');
            draggableElements.forEach(element => {
                element.addEventListener('mousedown', (e) => {
                    isDragging = true;
                    element.style.position = 'absolute';
                    element.style.left = e.clientX - element.offsetWidth / 2 + 'px';
                    element.style.top = e.clientY - element.offsetHeight / 2 + 'px';
                });
            });
            
            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    const element = document.querySelector('.draggable');
                    element.style.left = e.clientX - element.offsetWidth / 2 + 'px';
                    element.style.top = e.clientY - element.offsetHeight / 2 + 'px';
                }
            });
            
            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
        }
        
        // Start console animation
        function startConsoleAnimation() {
            const consoleContent = document.getElementById('consoleContent');
            if (!consoleContent) return;
            
            const lines = consoleContent.querySelectorAll('.console-line');
            lines.forEach((line, index) => {
                setTimeout(() => {
                    line.style.opacity = '1';
                }, index * 1000);
            });
        }
        
        // Window resize handler
        window.addEventListener('resize', () => {
            console.log('Second script block: Window resize event fired');
            if (camera && renderer) {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            }
        });
        
        // Enhanced Voice + AI Integration with Web Speech API and 3D visualization
        function initSpeechRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.lang = 'en-US';
                
                recognition.onresult = function(event) {
                    const transcript = event.results[event.results.length - 1][0].transcript;
                    document.getElementById('consoleInput').value = transcript;
                    
                    // Process the spoken text
                    processSpokenText(transcript);
                };
                
                recognition.onstart = function() {
                    // Visual feedback when listening starts
                    activateVoiceOrb(true);
                };
                
                recognition.onend = function() {
                    // Visual feedback when listening ends
                    activateVoiceOrb(false);
                };
                
                recognition.onerror = function(event) {
                    console.log('Speech recognition error:', event.error);
                };
                
                // Start recognition
                recognition.start();
                
                // Add click to toggle speech recognition
                const voiceOrb = document.getElementById('voiceOrb');
                if (voiceOrb) {
                    voiceOrb.addEventListener('click', () => {
                        if (recognition) {
                            if (recognition.state === 'listening') {
                                recognition.stop();
                            } else {
                                recognition.start();
                            }
                        }
                    });
                }
            } else {
                console.log('Speech recognition not supported in this browser.');
                
                // Fallback: Simulate voice recognition for demo purposes
                simulateVoiceRecognition();
            }
        }
        
        // NEW: Process spoken text with AI response
        function processSpokenText(text) {
            // Convert to lowercase for easier matching
            const lowerText = text.toLowerCase();
            
            // Check for specific commands or keywords
            if (lowerText.includes('thank') || lowerText.includes('teacher') || lowerText.includes('miss reesa')) {
                // Generate AI response
                const responses = [
                    "Thank you for your kind words!",
                    "Your appreciation means the world to Miss Reesa!",
                    "Teachers like Miss Reesa make a difference every day!",
                    "Education is the key to success, and Miss Reesa is the key holder!",
                    "Your gratitude powers the cyber-verse!"
                ];
                
                const response = responses[Math.floor(Math.random() * responses.length)];
                
                // Display response in 3D speech bubble
                show3DSpeechBubble(response);
                
                // Add to console
                const consoleContent = document.getElementById('consoleContent');
                if (consoleContent) {
                    const responseLine = document.createElement('div');
                    responseLine.className = 'console-line';
                    responseLine.textContent = `> AI Response: ${response}`;
                    consoleContent.appendChild(responseLine);
                    consoleContent.scrollTop = consoleContent.scrollHeight;
                }
            }
        }
        
        // NEW: Show 3D Speech Bubble
        function show3DSpeechBubble(text) {
            const bubble = document.createElement('div');
            bubble.className = 'speech-bubble';
            bubble.textContent = text;
            
            // Position near the voice orb
            const voiceOrb = document.getElementById('voiceOrb');
            if (voiceOrb) {
                const rect = voiceOrb.getBoundingClientRect();
                bubble.style.left = (rect.left + rect.width/2 - 100) + 'px';
                bubble.style.top = (rect.top - 80) + 'px';
            } else {
                bubble.style.left = '50%';
                bubble.style.top = '70%';
                bubble.style.transform = 'translateX(-50%)';
            }
            
            document.body.appendChild(bubble);
            
            // Add 3D effects
            const topSurface = document.createElement('div');
            topSurface.style.position = 'absolute';
            topSurface.style.top = '-5px';
            topSurface.style.left = '0';
            topSurface.style.width = '100%';
            topSurface.style.height = '5px';
            topSurface.style.background = '#00aa00';
            topSurface.style.borderRadius = '5px 5px 0 0';
            topSurface.style.transform = 'rotateX(90deg)';
            topSurface.style.transformOrigin = 'top';
            bubble.appendChild(topSurface);
            
            const sideSurface = document.createElement('div');
            sideSurface.style.position = 'absolute';
            sideSurface.style.top = '0';
            sideSurface.style.left = '-5px';
            sideSurface.style.width = '5px';
            sideSurface.style.height = '100%';
            sideSurface.style.background = '#00aa00';
            sideSurface.style.borderRadius = '5px 0 0 5px';
            sideSurface.style.transform = 'rotateY(90deg)';
            sideSurface.style.transformOrigin = 'left';
            bubble.appendChild(sideSurface);
            
            // Remove after delay
            setTimeout(() => {
                if (document.body.contains(bubble)) {
                    bubble.animate([
                        { opacity: 1, transform: 'scale(1)' },
                        { opacity: 0, transform: 'scale(0)' }
                    ], {
                        duration: 1000,
                        easing: 'ease-out'
                    });
                    
                    setTimeout(() => {
                        if (document.body.contains(bubble)) {
                            document.body.removeChild(bubble);
                        }
                    }, 1000);
                }
            }, 4000);
        }
        
        // NEW: Enhanced voice orb activation with 3D effects
        function activateVoiceOrb(isListening) {
            const orb = document.getElementById('voiceOrb');
            if (!orb) return;
            
            if (isListening) {
                // Add listening effects
                orb.style.boxShadow = '0 0 40px #00ff00, 0 0 60px #00ff88';
                orb.style.animation = 'voice-pulse 0.5s ease-in-out infinite';
                
                // Create glow effect
                const glow = document.createElement('div');
                glow.className = 'voice-glow';
                orb.appendChild(glow);
                
                // Create pulse rings
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        const ring = document.createElement('div');
                        ring.className = 'voice-pulse-ring';
                        ring.style.animation = `pulse-ring 1.5s ease-out ${i * 0.5}s infinite`;
                        
                        // Add animation to head
                        const style = document.createElement('style');
                        style.textContent = `
                            @keyframes pulse-ring {
                                0% { width: 0; height: 0; opacity: 1; }
                                100% { width: 100px; height: 100px; opacity: 0; }
                            }
                        `;
                        document.head.appendChild(style);
                        
                        orb.appendChild(ring);
                        
                        // Remove ring and style after animation
                        setTimeout(() => {
                            if (ring.parentNode) {
                                ring.parentNode.removeChild(ring);
                            }
                            if (style.parentNode) {
                                style.parentNode.removeChild(style);
                            }
                        }, 2000);
                    }, i * 500);
                }
                
                // Animate waveform
                const bars = document.querySelectorAll('.wave-bar');
                bars.forEach(bar => {
                    bar.style.animation = 'wave-animation 0.2s ease-in-out infinite';
                });
            } else {
                // Remove listening effects
                orb.style.boxShadow = '0 0 20px #00ff00';
                orb.style.animation = 'voice-pulse 2s ease-in-out infinite';
                
                // Remove glow
                const glow = orb.querySelector('.voice-glow');
                if (glow && glow.parentNode) {
                    glow.parentNode.removeChild(glow);
                }
                
                // Reset waveform
                const bars = document.querySelectorAll('.wave-bar');
                bars.forEach(bar => {
                    bar.style.animation = 'wave-animation 1s ease-in-out infinite';
                });
            }
        }
        
        // NEW: Simulate voice recognition for browsers that don't support it
        function simulateVoiceRecognition() {
            // Periodically simulate voice input
            setInterval(() => {
                if (Math.random() > 0.8) { // 20% chance every interval
                    const phrases = [
                        "Thank you teacher",
                        "Miss Reesa is amazing",
                        "Best computer teacher ever",
                        "You are the best",
                        "Thank you for everything"
                    ];
                    
                    const phrase = phrases[Math.floor(Math.random() * phrases.length)];
                    processSpokenText(phrase);
                    activateVoiceOrb(true);
                    
                    setTimeout(() => {
                        activateVoiceOrb(false);
                    }, 2000);
                }
            }, 10000);
        }
        
        // NEW: Initialize Voice Orb with 3D effects
        function initVoiceOrb() {
            const waveform = document.getElementById('waveform');
            if (!waveform) return;
            
            // Create waveform bars with 3D effects
            for (let i = 0; i < 15; i++) {
                const bar = document.createElement('div');
                bar.className = 'wave-bar';
                bar.style.left = (i * 4) + 'px';
                bar.style.animationDelay = (i * 0.1) + 's';
                
                // Add 3D effect to bar
                const barTop = document.createElement('div');
                barTop.style.position = 'absolute';
                barTop.style.top = '-1px';
                barTop.style.left = '0';
                barTop.style.width = '100%';
                barTop.style.height = '1px';
                barTop.style.background = '#00aa00';
                barTop.style.transform = 'rotateX(90deg)';
                barTop.style.transformOrigin = 'top';
                bar.appendChild(barTop);
                
                waveform.appendChild(bar);
            }
            
            // Simulate voice activation periodically
            setInterval(() => {
                if (Math.random() > 0.7) {
                    activateVoiceOrb(true);
                    setTimeout(() => {
                        activateVoiceOrb(false);
                    }, 2000);
                }
            }, 15000);
        }
        
        // Create packet trails with instancing optimization
        function createPacketTrails() {
            const packetContainer = document.getElementById('packetContainer');
            if (!packetContainer) return;
            
            // Detect if we're on a mobile device
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
            
            // Reduce number of packets on mobile
            const packetCount = isMobile ? 10 : 20;
            
            for (let i = 0; i < packetCount; i++) {
                const packet = document.createElement('div');
                packet.className = 'packet';
                packet.style.left = (Math.random() * 100) + '%';
                packet.style.top = (Math.random() * 100) + '%';
                packet.style.animationDelay = (Math.random() * 5) + 's';
                
                // Simplify animation on mobile
                if (isMobile) {
                    packet.style.animationDuration = '3s';
                }
                
                packetContainer.appendChild(packet);
            }
        }
        
        // Initialize matrix code rain
        function initMatrixCodeRain() {
            const matrixContainer = document.getElementById('matrixContainer');
            if (!matrixContainer) return;
            
            const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ123456789@#$%^&*()_+[]{}|;:,.<>?';
            const columns = Math.floor(matrixContainer.clientWidth / 10);
            const rows = Math.floor(matrixContainer.clientHeight / 20);
            
            for (let i = 0; i < columns; i++) {
                const column = document.createElement('div');
                column.className = 'matrix-column';
                
                for (let j = 0; j < rows; j++) {
                    const character = document.createElement('div');
                    character.className = 'matrix-character';
                    character.textContent = characters.charAt(Math.floor(Math.random() * characters.length));
                    column.appendChild(character);
                }
                
                matrixContainer.appendChild(column);
            }
        }
        
        // Create neon circuit board background
        function createNeonCircuitBoard() {
            const circuitBoard = document.getElementById('circuitBoard');
            if (!circuitBoard) return;
            
            const rows = Math.floor(circuitBoard.clientHeight / 20);
            const cols = Math.floor(circuitBoard.clientWidth / 20);
            
            for (let i = 0; i < rows; i++) {
                for (let j = 0; j < cols; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'circuit-cell';
                    cell.style.top = (i * 20) + 'px';
                    cell.style.left = (j * 20) + 'px';
                    cell.style.backgroundColor = `rgba(0, 255, 0, ${Math.random() * 0.5})`;
                    circuitBoard.appendChild(cell);
                }
            }
        }
        
        // Initialize binary rain matrix
        function initBinaryRain() {
            const binaryContainer = document.getElementById('binaryContainer');
            if (!binaryContainer) return;
            
            const columns = Math.floor(binaryContainer.clientWidth / 10);
            const rows = Math.floor(binaryContainer.clientHeight / 20);
            
            for (let i = 0; i < columns; i++) {
                const column = document.createElement('div');
                column.className = 'binary-column';
                
                for (let j = 0; j < rows; j++) {
                    const digit = document.createElement('div');
                    digit.className = 'binary-digit';
                    digit.textContent = Math.round(Math.random());
                    column.appendChild(digit);
                }
                
                binaryContainer.appendChild(column);
            }
        }
        
        // Initialize holographic globe
        function initHolographicGlobe() {
            const globe = document.getElementById('holographicGlobe');
            if (!globe) return;
            
            const globeElement = document.createElement('div');
            globeElement.className = 'globe';
            globe.appendChild(globeElement);
            
            const globeGlow = document.createElement('div');
            globeGlow.className = 'globe-glow';
            globe.appendChild(globeGlow);
        }
        
        // Initialize enhanced touch gestures with 3D model navigation
        function initEnhancedTouchGestures() {
            let touchStartX = 0;
            let touchStartY = 0;
            let touchStartTime = 0;
            
            // Variables for 3D model rotation and zoom
            let rotationX = 0;
            let rotationY = 0;
            let scale = 1;
            let isDragging = false;
            let lastTap = 0;
            
            document.addEventListener('touchstart', (e) => {
                touchStartX = e.changedTouches[0].screenX;
                touchStartY = e.changedTouches[0].screenY;
                touchStartTime = new Date().getTime();
                
                // Check if touch is on a 3D model container
                const target = e.target;
                if (target.closest('.computer-components, .neural-network-3d, .ai-orb-container')) {
                    isDragging = true;
                }
            });
            
            document.addEventListener('touchmove', (e) => {
                if (isDragging) {
                    const touchMoveX = e.changedTouches[0].screenX;
                    const touchMoveY = e.changedTouches[0].screenY;
                    
                    const deltaX = touchMoveX - touchStartX;
                    const deltaY = touchMoveY - touchStartY;
                    
                    // Rotate 3D models
                    rotationY += deltaX * 0.5;
                    rotationX -= deltaY * 0.5;
                    
                    // Apply rotation to 3D containers
                    const containers = document.querySelectorAll('.computer-components, .neural-network-3d, .ai-orb-container');
                    containers.forEach(container => {
                        container.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg) scale(${scale})`;
                    });
                    
                    touchStartX = touchMoveX;
                    touchStartY = touchMoveY;
                }
            });
            
            document.addEventListener('touchend', (e) => {
                const touchEndX = e.changedTouches[0].screenX;
                const touchEndY = e.changedTouches[0].screenY;
                const touchEndTime = new Date().getTime();
                const diffX = touchEndX - touchStartX;
                const diffY = touchEndY - touchStartY;
                const deltaTime = touchEndTime - touchStartTime;
                
                // Reset dragging state
                isDragging = false;
                
                // Swipe right - data packet streams ripple
                if (Math.abs(diffX) > Math.abs(diffY) && diffX > 50 && deltaTime < 500) {
                    createSwipeRippleEffect();
                }
                
                // Swipe left - quantum tunnel effect
                if (Math.abs(diffX) > Math.abs(diffY) && diffX < -50 && deltaTime < 500) {
                    triggerQuantumTunnel();
                }
                
                // Long press - activate easter egg
                if (Math.abs(diffX) < 20 && Math.abs(diffY) < 20 && deltaTime > 1000) {
                    activateEasterEgg();
                }
                
                // Double tap detection for zoom
                const currentTime = new Date().getTime();
                const tapLength = currentTime - lastTap;
                if (tapLength < 500 && tapLength > 0) {
                    // Double tap detected - zoom in/out
                    const target = e.target;
                    if (target.closest('.computer-components, .neural-network-3d, .ai-orb-container')) {
                        scale = scale === 1 ? 1.5 : 1;
                        const containers = document.querySelectorAll('.computer-components, .neural-network-3d, .ai-orb-container');
                        containers.forEach(container => {
                            container.style.transform = `rotateX(${rotationX}deg) rotateY(${rotationY}deg) scale(${scale})`;
                        });
                        
                        // Show zoom message
                        const message = document.createElement('div');
                        message.className = 'easter-egg-message';
                        message.textContent = `Zoom: ${scale === 1 ? 'Normal' : 'Zoomed In'}`;
                        message.style.background = 'linear-gradient(45deg, #00ff00, #008800)';
                        document.body.appendChild(message);
                        
                        setTimeout(() => {
                            if (document.body.contains(message)) {
                                message.style.opacity = '0';
                                setTimeout(() => {
                                    if (document.body.contains(message)) {
                                        document.body.removeChild(message);
                                    }
                                }, 500);
                            }
                        }, 1000);
                    }
                }
                lastTap = currentTime;
            });
        }
        
        // Initialize holographic data city
        function initDataCity() {
            const city = document.getElementById('dataCity');
            if (!city) return;
            
            const cityElement = document.createElement('div');
            cityElement.className = 'city';
            city.appendChild(cityElement);
            
            const cityGlow = document.createElement('div');
            cityGlow.className = 'city-glow';
            city.appendChild(cityGlow);
        }
        
        // Initialize quantum particle field
        function initQuantumField() {
            const field = document.getElementById('quantumField');
            if (!field) return;
            
            const fieldElement = document.createElement('div');
            fieldElement.className = 'field';
            field.appendChild(fieldElement);
            
            const fieldGlow = document.createElement('div');
            fieldGlow.className = 'field-glow';
            field.appendChild(fieldGlow);
        }
        
        // Initialize AI core
        function initAICore() {
            const core = document.getElementById('aiCore');
            if (!core) return;
            
            const coreElement = document.createElement('div');
            coreElement.className = 'core';
            core.appendChild(coreElement);
            
            const coreGlow = document.createElement('div');
            coreGlow.className = 'core-glow';
            core.appendChild(coreGlow);
        }
        
        // Cinematic boot sequence
        function cinematicBoot() {
            const overlay = document.getElementById('cinematicOverlay');
            if (!overlay) return;
            
            overlay.style.opacity = '1';
            
            setTimeout(() => {
                overlay.style.opacity = '0';
            }, 5000);
        }
        

        
        // NEW: Initialize Sci-Fi Console
        function initSciFiConsole() {
            const console = document.getElementById('sciFiConsole');
            if (!console) return;
            
            // Create panels
            const panels = [
                { top: '0px', left: '0px', content: 'TEACHER:<br>MISS REESA' },
                { top: '0px', left: '120px', content: 'SUBJECT:<br>COMPUTER SCIENCE' },
                { top: '70px', left: '60px', content: 'GRATITUDE:<br>INFINITE' }
            ];
            
            panels.forEach(panelData => {
                const panel = document.createElement('div');
                panel.className = 'console-panel';
                panel.style.top = panelData.top;
                panel.style.left = panelData.left;
                panel.style.animationDelay = (Math.random() * 2) + 's';
                
                const content = document.createElement('div');
                content.className = 'panel-content';
                content.innerHTML = panelData.content;
                
                panel.appendChild(content);
                console.appendChild(panel);
            });
        }
        
        // NEW: Initialize Glowing Data Portals (3D Wormholes) with particle streams
        function initDataPortal() {
            const portal = document.getElementById('dataPortal');
            if (!portal) return;
            
            // Create 3D visualization container
            const threeContainer = document.createElement('div');
            threeContainer.style.position = 'absolute';
            threeContainer.style.top = '0';
            threeContainer.style.left = '0';
            threeContainer.style.width = '100%';
            threeContainer.style.height = '100%';
            threeContainer.style.perspective = '1000px';
            portal.appendChild(threeContainer);
            
            // Create portal inner structure
            const inner = document.createElement('div');
            inner.className = 'portal-inner';
            portal.appendChild(inner);
            
            // Create rotating ring
            const ring = document.createElement('div');
            ring.className = 'portal-ring';
            
            // Add 3D effect to ring
            const ringTop = document.createElement('div');
            ringTop.style.position = 'absolute';
            ringTop.style.top = '-1px';
            ringTop.style.left = '0';
            ringTop.style.width = '100%';
            ringTop.style.height = '1px';
            ringTop.style.background = '#00aa00';
            ringTop.style.borderRadius = '1px 1px 0 0';
            ringTop.style.transform = 'rotateX(90deg)';
            ringTop.style.transformOrigin = 'top';
            ring.appendChild(ringTop);
            
            portal.appendChild(ring);
            
            // Create glow effect
            const glow = document.createElement('div');
            glow.className = 'portal-glow';
            portal.appendChild(glow);
            
            // Create portal text
            const text = document.createElement('div');
            text.className = 'portal-text';
            text.textContent = 'DATA PORTAL';
            portal.appendChild(text);
            
            // Create particles that stream through the portal in 3D pattern
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'portal-particle';
                
                // Position particles in circular pattern
                const angle = (i / 30) * Math.PI * 2;
                const radius = 30 + Math.random() * 20;
                const x = 50 + radius * Math.cos(angle);
                const y = 50 + radius * Math.sin(angle);
                
                particle.style.left = x + 'px';
                particle.style.top = y + 'px';
                particle.style.animationDelay = (i * 0.2) + 's';
                particle.style.width = (2 + Math.random() * 4) + 'px';
                particle.style.height = particle.style.width;
                
                // Add 3D effect to particle
                const particleTop = document.createElement('div');
                particleTop.style.position = 'absolute';
                particleTop.style.top = '-1px';
                particleTop.style.left = '0';
                particleTop.style.width = '100%';
                particleTop.style.height = '1px';
                particleTop.style.background = '#00aa00';
                particleTop.style.borderRadius = '1px 1px 0 0';
                particleTop.style.transform = 'rotateX(90deg)';
                particleTop.style.transformOrigin = 'top';
                particle.appendChild(particleTop);
                
                portal.appendChild(particle);
            }
            
            // Add interactive effect to portal
            portal.addEventListener('click', () => {
                // Create expanding wave effect
                const wave = document.createElement('div');
                wave.style.position = 'absolute';
                wave.style.top = '50%';
                wave.style.left = '50%';
                wave.style.transform = 'translate(-50%, -50%)';
                wave.style.width = '0px';
                wave.style.height = '0px';
                wave.style.border = '2px solid #00ff00';
                wave.style.borderRadius = '50%';
                wave.style.animation = 'portal-wave 1s ease-out forwards';
                
                // Add animation to head
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes portal-wave {
                        0% { width: 0px; height: 0px; opacity: 1; }
                        100% { width: 200px; height: 200px; opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
                
                portal.appendChild(wave);
                
                // Remove wave and style after animation
                setTimeout(() => {
                    if (wave.parentNode) {
                        wave.parentNode.removeChild(wave);
                    }
                    if (style.parentNode) {
                        style.parentNode.removeChild(style);
                    }
                }, 1000);
                
                // Throw appreciation words into portal
                throwAppreciationIntoPortal();
            });
            
            // Add hover effect
            portal.addEventListener('mouseenter', () => {
                portal.style.transform = 'translate(-50%, -50%) scale(1.1)';
                portal.style.boxShadow = '0 0 50px #00ff00';
            });
            
            portal.addEventListener('mouseleave', () => {
                portal.style.transform = 'translate(-50%, -50%) scale(1)';
                portal.style.boxShadow = '0 0 30px #00ff00';
            });
        }
        
        // NEW: Throw appreciation words into portal with 3D effect
        function throwAppreciationIntoPortal() {
            const words = ['THANK', 'YOU', 'MISS', 'REESE', 'TEACHER', 'BEST', 'COMPUTER', 'SCIENCE'];
            const word = words[Math.floor(Math.random() * words.length)];
            
            const wordElement = document.createElement('div');
            wordElement.style.position = 'fixed';
            wordElement.style.color = '#00ff00';
            wordElement.style.fontFamily = "'Orbitron', monospace";
            wordElement.style.fontSize = '1rem';
            wordElement.style.textShadow = '0 0 10px #00ff00';
            wordElement.style.zIndex = '1000';
            wordElement.textContent = word;
            wordElement.style.transformStyle = 'preserve-3d';
            
            // Position at portal location
            const portal = document.getElementById('dataPortal');
            const rect = portal.getBoundingClientRect();
            wordElement.style.left = (rect.left + rect.width/2) + 'px';
            wordElement.style.top = (rect.top + rect.height/2) + 'px';
            
            document.body.appendChild(wordElement);
            
            // Animate word moving through portal with 3D effect
            wordElement.animate([
                { transform: 'translate(0, 0) scale(1) rotateY(0deg)', opacity: 1 },
                { transform: 'translate(100px, -100px) scale(0) rotateY(360deg)', opacity: 0 }
            ], {
                duration: 2000,
                easing: 'ease-out'
            });
            
            // Add 3D rotation effect
            let rotation = 0;
            const rotateInterval = setInterval(() => {
                rotation += 10;
                wordElement.style.transform = `translate(0, 0) rotateY(${rotation}deg)`;
            }, 50);
            
            // Remove after animation
            setTimeout(() => {
                clearInterval(rotateInterval);
                if (document.body.contains(wordElement)) {
                    document.body.removeChild(wordElement);
                }
                
                // Show teacher's portrait at end of portal
                showTeacherPortraitFromPortal();
            }, 2000);
        }
        
        // NEW: Show teacher's portrait from portal with 3D effect
        function showTeacherPortraitFromPortal() {
            const portal = document.getElementById('dataPortal');
            const rect = portal.getBoundingClientRect();
            
            const portrait = document.createElement('div');
            portrait.style.position = 'fixed';
            portrait.style.width = '80px';
            portrait.style.height = '80px';
            portrait.style.borderRadius = '50%';
            portrait.style.background = 'radial-gradient(circle, #00ff00, #008800)';
            portrait.style.boxShadow = '0 0 30px #00ff00';
            portrait.style.zIndex = '1000';
            portrait.style.left = (rect.left + rect.width/2 + 100) + 'px';
            portrait.style.top = (rect.top + rect.height/2 - 100) + 'px';
            portrait.style.cursor = 'pointer';
            portrait.style.transformStyle = 'preserve-3d';
            portrait.style.perspective = '1000px';
            
            // Add before pseudo-element for image effect
            portrait.style.backgroundImage = 'url("Computer Teacher.png")';
            portrait.style.backgroundSize = 'cover';
            portrait.style.backgroundPosition = 'center';
            portrait.style.filter = 'brightness(1.2) contrast(1.1)';
            
            // Add 3D floating effect
            let floatOffset = 0;
            const floatInterval = setInterval(() => {
                floatOffset += 0.1;
                const yOffset = Math.sin(floatOffset) * 5;
                portrait.style.transform = `translateY(${yOffset}px) rotateY(${floatOffset * 10}deg)`;
            }, 50);
            
            document.body.appendChild(portrait);
            
            // Add click to remove
            portrait.addEventListener('click', () => {
                clearInterval(floatInterval);
                if (document.body.contains(portrait)) {
                    portrait.animate([
                        { opacity: 1, transform: 'scale(1) rotateY(0deg)' },
                        { opacity: 0, transform: 'scale(0) rotateY(360deg)' }
                    ], {
                        duration: 1000,
                        easing: 'ease-out'
                    });
                    
                    setTimeout(() => {
                        if (document.body.contains(portrait)) {
                            document.body.removeChild(portrait);
                        }
                    }, 1000);
                }
            });
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                clearInterval(floatInterval);
                if (document.body.contains(portrait)) {
                    portrait.animate([
                        { opacity: 1, transform: 'scale(1) rotateY(0deg)' },
                        { opacity: 0, transform: 'scale(0) rotateY(360deg)' }
                    ], {
                        duration: 1000,
                        easing: 'ease-out'
                    });
                    
                    setTimeout(() => {
                        if (document.body.contains(portrait)) {
                            document.body.removeChild(portrait);
                        }
                    }, 1000);
                }
            }, 5000);
        }
        
        // NEW: Initialize Voice Orb
        function initVoiceOrb() {
            const waveform = document.getElementById('waveform');
            if (!waveform) return;
            
            // Create waveform bars with 3D effects
            for (let i = 0; i < 15; i++) {
                const bar = document.createElement('div');
                bar.className = 'wave-bar';
                bar.style.left = (i * 4) + 'px';
                bar.style.animationDelay = (i * 0.1) + 's';
                
                // Add 3D effect to bar
                const barTop = document.createElement('div');
                barTop.style.position = 'absolute';
                barTop.style.top = '-1px';
                barTop.style.left = '0';
                barTop.style.width = '100%';
                barTop.style.height = '1px';
                barTop.style.background = '#00aa00';
                barTop.style.transform = 'rotateX(90deg)';
                barTop.style.transformOrigin = 'top';
                bar.appendChild(barTop);
                
                waveform.appendChild(bar);
            }
            
            // Simulate voice activation periodically
            setInterval(() => {
                if (Math.random() > 0.7) {
                    activateVoiceOrb(true);
                    setTimeout(() => {
                        activateVoiceOrb(false);
                    }, 2000);
                }
            }, 15000);
        }
        
        // NEW: Activate voice orb
        function activateVoiceOrb() {
            const orb = document.getElementById('voiceOrb');
            if (!orb) return;
        }
        
        // Initialize all components
        function init() {
            initButtons();
            createParticles();
            initInteractiveElements();
            startConsoleAnimation();
            initSpeechRecognition();
            createPacketTrails();
            initMatrixCodeRain();
            createNeonCircuitBoard();
            initBinaryRain();
            initHolographicGlobe();
            initEnhancedTouchGestures();
            initDataCity();
            initQuantumField();
            initAICore();
            cinematicBoot();
            initSciFiConsole();
            initDataPortal();
            initVoiceOrb();
        }
            
            // Create speech bubble
            const bubble = document.createElement('div');
            bubble.style.position = 'fixed';
            bubble.style.color = '#00ff00';
            bubble.style.fontFamily = "'Orbitron', monospace";
            bubble.style.fontSize = '0.8rem';
            bubble.style.textShadow = '0 0 10px #00ff00';
            bubble.style.zIndex = '1000';
            bubble.style.left = '50%';
            bubble.style.top = '70%';
            bubble.style.transform = 'translateX(-50%)';
            bubble.style.background = 'rgba(0, 20, 0, 0.8)';
            bubble.style.border = '1px solid #00ff00';
            bubble.style.borderRadius = '10px';
            bubble.style.padding = '10px';
            bubble.style.boxShadow = '0 0 20px #00ff00';
            bubble.textContent = '"Thank you for being an amazing teacher, Miss Reese!"';
            
            document.body.appendChild(bubble);
            
            // Animate waveform
            const bars = document.querySelectorAll('.wave-bar');
            bars.forEach(bar => {
                bar.style.animation = 'none';
                setTimeout(() => {
                    bar.style.animation = 'wave-animation 0.5s ease-in-out infinite';
                }, 10);
            });
            
            // Remove after delay
            setTimeout(() => {
                if (document.body.contains(bubble)) {
                    bubble.animate([
                        { opacity: 1 },
                        { opacity: 0 }
                    ], {
                        duration: 1000,
                        easing: 'ease-out'
                    });
                    
                    setTimeout(() => {
                        if (document.body.contains(bubble)) {
                            document.body.removeChild(bubble);
                        }
                    }, 1000);
                }
            }, 3000);
        
        // Create neon circuit board background
        function createNeonCircuitBoard() {
            const circuitBoard = document.getElementById('neonCircuitBoard');
            if (!circuitBoard) return;
            
            // Create circuit lines
            for (let i = 0; i < 20; i++) {
                const line = document.createElement('div');
                line.className = 'circuit-line';
                
                // Random positioning and rotation
                const length = 50 + Math.random() * 150;
                const angle = Math.random() * 360;
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                line.style.width = length + 'px';
                line.style.left = x + '%';
                line.style.top = y + '%';
                line.style.transform = `rotate(${angle}deg)`;
                line.style.opacity = 0.3 + Math.random() * 0.7;
                
                circuitBoard.appendChild(line);
            }
        }
        
        // Initialize matrix code rain
        function initMatrixCodeRain() {
            const container = document.getElementById('matrixCodeRain');
            if (!container) return;
            
            const chars = '01„Ç¢„Ç§„Ç¶„Ç®„Ç™„Ç´„Ç≠„ÇØ„Ç±„Ç≥„Çµ„Ç∑„Çπ„Çª„ÇΩ„Çø„ÉÅ„ÉÑ„ÉÜ„Éà„Éä„Éã„Éå„Éç„Éé„Éè„Éí„Éï„Éò„Éõ„Éû„Éü„É†„É°„É¢„É§„É¶„É®„É©„É™„É´„É¨„É≠„ÉØ„É≤„É≥ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const fontSize = 14;
            const columns = Math.floor(window.innerWidth / fontSize);
            
            // Create columns
            for (let i = 0; i < columns; i++) {
                const column = document.createElement('div');
                column.className = 'code-column';
                column.style.left = (i * fontSize) + 'px';
                column.style.animationDuration = (3 + Math.random() * 5) + 's';
                column.style.animationDelay = (Math.random() * 5) + 's';
                
                // Create characters for the column
                const charCount = 20 + Math.floor(Math.random() * 30);
                let columnText = '';
                for (let j = 0; j < charCount; j++) {
                    columnText += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                column.textContent = columnText;
                
                container.appendChild(column);
            }
        }
        
        function initThreeJS() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const canvas = document.getElementById('three-canvas');
            renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            
            // Detect if we're on a mobile device
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || window.innerWidth < 768;
            
            // Create starfield with LOD - fewer stars and smaller size on mobile
            const starCount = isMobile ? 500 : 1000;
            const starSize = isMobile ? 1 : 2;
            
            const starGeometry = new THREE.BufferGeometry();
            const starMaterial = new THREE.PointsMaterial({ color: 0x00ff00, size: starSize });
            
            const starVertices = [];
            for (let i = 0; i < starCount; i++) {
                starVertices.push(
                    THREE.MathUtils.randFloatSpread(2000),
                    THREE.MathUtils.randFloatSpread(2000),
                    THREE.MathUtils.randFloatSpread(2000)
                );
            }
            
            starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
            starField = new THREE.Points(starGeometry, starMaterial);
            scene.add(starField);
            
            camera.position.z = 5;
            
            // Window resize handler with LOD adjustment
            window.addEventListener('resize', () => {
                if (camera && renderer) {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                    
                    // Adjust LOD based on new screen size
                    const isNowMobile = window.innerWidth < 768;
                    const newStarCount = isNowMobile ? 500 : 1000;
                    const newStarSize = isNowMobile ? 1 : 2;
                    
                    // Update starfield if needed
                    if ((isMobile && !isNowMobile) || (!isMobile && isNowMobile)) {
                        scene.remove(starField);
                        const newStarGeometry = new THREE.BufferGeometry();
                        const newStarMaterial = new THREE.PointsMaterial({ color: 0x00ff00, size: newStarSize });
                        
                        const newStarVertices = [];
                        for (let i = 0; i < newStarCount; i++) {
                            newStarVertices.push(
                                THREE.MathUtils.randFloatSpread(2000),
                                THREE.MathUtils.randFloatSpread(2000),
                                THREE.MathUtils.randFloatSpread(2000)
                            );
                        }
                        
                        newStarGeometry.setAttribute('position', new THREE.Float32BufferAttribute(newStarVertices, 3));
                        starField = new THREE.Points(newStarGeometry, newStarMaterial);
                        scene.add(starField);
                    }
                }
            });
            
            // Animation loop
            function animate() {
                requestAnimationFrame(animate);
                
                // Rotate starfield slowly
                if (starField) {
                    starField.rotation.x += 0.001;
                    starField.rotation.y += 0.001;
                }
                
                renderer.render(scene, camera);
            }
            
            animate();
        }
            
            // NEW: WebXR/AR-VR Support
            function initWebXR() {
                // Check if WebXR is supported
                if ('xr' in navigator) {
                    // Enable VR button
                    document.body.appendChild(VRButton.createButton(renderer));
                    
                    // Set up XR session
                    renderer.xr.addEventListener('sessionstart', () => {
                        // Session started - hide regular UI elements for VR
                        const uiElements = document.querySelectorAll('.cyber-title, .thank-you-hologram, .special-message, .circuit-universe, .quantum-stream, .neural-network, .desktop-window, .compiler-input, .cyber-console, .system-monitor, .dna-stream, .language-orbit, .ai-assistant, .hologram-avatar, .neon-grid, .matrix-code-rain, .quantum-field, .data-city, .holo-message, .ai-core, .computer-components, .ai-orb-container, .classroom-diorama, .neural-network-3d, .sci-fi-console, .data-portal, .voice-orb, .glitch-overlay, .cinematic-overlay, .home-button');
                        uiElements.forEach(el => {
                            el.style.display = 'none';
                        });
                        
                        // Show VR message
                        const vrMessage = document.createElement('div');
                        vrMessage.id = 'vrMessage';
                        vrMessage.style.position = 'fixed';
                        vrMessage.style.top = '50%';
                        vrMessage.style.left = '50%';
                        vrMessage.style.transform = 'translate(-50%, -50%)';
                        vrMessage.style.color = '#00ff00';
                        vrMessage.style.fontFamily = "'Orbitron', monospace";
                        vrMessage.style.fontSize = '1.5rem';
                        vrMessage.style.textAlign = 'center';
                        vrMessage.style.zIndex = '10000';
                        vrMessage.style.background = 'rgba(0, 20, 0, 0.8)';
                        vrMessage.style.padding = '20px';
                        vrMessage.style.border = '2px solid #00ff00';
                        vrMessage.style.borderRadius = '10px';
                        vrMessage.style.boxShadow = '0 0 30px #00ff00';
                        vrMessage.innerHTML = 'VR MODE ACTIVATED<br>Look around to explore the 3D environment<br>Use controllers to interact with objects';
                        document.body.appendChild(vrMessage);
                        
                        // Remove message after 5 seconds
                        setTimeout(() => {
                            if (document.body.contains(vrMessage)) {
                                document.body.removeChild(vrMessage);
                            }
                        }, 5000);
                    });
                    
                    renderer.xr.addEventListener('sessionend', () => {
                        // Session ended - show regular UI elements
                        const uiElements = document.querySelectorAll('.cyber-title, .thank-you-hologram, .special-message, .circuit-universe, .quantum-stream, .neural-network, .desktop-window, .compiler-input, .cyber-console, .system-monitor, .dna-stream, .language-orbit, .ai-assistant, .hologram-avatar, .neon-grid, .matrix-code-rain, .quantum-field, .data-city, .holo-message, .ai-core, .computer-components, .ai-orb-container, .classroom-diorama, .neural-network-3d, .sci-fi-console, .data-portal, .voice-orb, .glitch-overlay, .cinematic-overlay, .home-button');
                        uiElements.forEach(el => {
                            el.style.display = '';
                        });
                    });
                    
                    // Set up controller support
                    const controller1 = renderer.xr.getController(0);
                    controller1.addEventListener('selectstart', onControllerSelectStart);
                    controller1.addEventListener('selectend', onControllerSelectEnd);
                    scene.add(controller1);
                    
                    const controller2 = renderer.xr.getController(1);
                    controller2.addEventListener('selectstart', onControllerSelectStart);
                    controller2.addEventListener('selectend', onControllerSelectEnd);
                    scene.add(controller2);
                    
                    // Create controller grips
                    const controllerGrip1 = renderer.xr.getControllerGrip(0);
                    scene.add(controllerGrip1);
                    
                    const controllerGrip2 = renderer.xr.getControllerGrip(1);
                    scene.add(controllerGrip2);
                    
                    // Add controller models
                    const controllerModelFactory = new XRControllerModelFactory();
                    
                    const controllerModel1 = controllerModelFactory.createControllerModel(controllerGrip1);
                    controllerGrip1.add(controllerModel1);
                    
                    const controllerModel2 = controllerModelFactory.createControllerModel(controllerGrip2);
                    controllerGrip2.add(controllerModel2);
                } else {
                    // WebXR not supported - add AR button for mobile devices
                    const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
                    if (isMobile) {
                        const arButton = document.createElement('button');
                        arButton.id = 'arButton';
                        arButton.textContent = 'ENTER AR MODE';
                        arButton.style.position = 'fixed';
                        arButton.style.bottom = '20px';
                        arButton.style.right = '20px';
                        arButton.style.padding = '12px 25px';
                        arButton.style.background = 'linear-gradient(45deg, #00ff00, #00aa00)';
                        arButton.style.color = 'black';
                        arButton.style.border = 'none';
                        arButton.style.borderRadius = '20px';
                        arButton.style.fontFamily = "'Orbitron', monospace";
                        arButton.style.fontSize = '0.9rem';
                        arButton.style.fontWeight = 'bold';
                        arButton.style.cursor = 'pointer';
                        arButton.style.boxShadow = '0 0 15px rgba(0, 255, 0, 0.5)';
                        arButton.style.zIndex = '1000';
                        arButton.addEventListener('click', () => {
                            // Show AR instructions
                            const arMessage = document.createElement('div');
                            arMessage.id = 'arMessage';
                            arMessage.style.position = 'fixed';
                            arMessage.style.top = '50%';
                            arMessage.style.left = '50%';
                            arMessage.style.transform = 'translate(-50%, -50%)';
                            arMessage.style.color = '#00ff00';
                            arMessage.style.fontFamily = "'Orbitron', monospace";
                            arMessage.style.fontSize = '1.2rem';
                            arMessage.style.textAlign = 'center';
                            arMessage.style.zIndex = '10000';
                            arMessage.style.background = 'rgba(0, 20, 0, 0.9)';
                            arMessage.style.padding = '30px';
                            arMessage.style.border = '2px solid #00ff00';
                            arMessage.style.borderRadius = '15px';
                            arMessage.style.boxShadow = '0 0 40px #00ff00';
                            arMessage.innerHTML = 'AR MODE ACTIVATED<br>Point your camera at a flat surface<br>Teacher hologram will appear in your space<br><br>Click anywhere to dismiss';
                            document.body.appendChild(arMessage);
                            
                            // Add click to dismiss
                            arMessage.addEventListener('click', () => {
                                if (document.body.contains(arMessage)) {
                                    document.body.removeChild(arMessage);
                                }
                            });
                            
                            // Simulate AR experience
                            simulateAR();
                        });
                        document.body.appendChild(arButton);
                    }
                }
            }
            
            // Controller event handlers
            function onControllerSelectStart() {
                // Handle controller select start
                console.log('Controller select start');
            }
            
            function onControllerSelectEnd() {
                // Handle controller select end
                console.log('Controller select end');
            }
            
            // Simulate AR experience for devices without WebXR
            function simulateAR() {
                // Create floating teacher hologram in AR space
                const arHologram = document.createElement('div');
                arHologram.id = 'arHologram';
                arHologram.style.position = 'fixed';
                arHologram.style.top = '50%';
                arHologram.style.left = '50%';
                arHologram.style.transform = 'translate(-50%, -50%)';
                arHologram.style.width = '150px';
                arHologram.style.height = '150px';
                arHologram.style.background = 'radial-gradient(circle, rgba(0, 255, 0, 0.3), transparent 70%)';
                arHologram.style.border = '2px solid #00ff00';
                arHologram.style.borderRadius = '50%';
                arHologram.style.boxShadow = '0 0 50px #00ff00';
                arHologram.style.zIndex = '9999';
                arHologram.style.animation = 'ar-hologram-float 4s ease-in-out infinite';
                
                // Add animation style
                const arStyle = document.createElement('style');
                arStyle.textContent = `
                    @keyframes ar-hologram-float {
                        0%, 100% { transform: translate(-50%, -50%) translateY(0px); }
                        50% { transform: translate(-50%, -50%) translateY(-20px); }
                    }
                `;
                document.head.appendChild(arStyle);
                
                // Add teacher image
                const teacherImg = document.createElement('div');
                teacherImg.style.width = '100%';
                teacherImg.style.height = '100%';
                teacherImg.style.background = 'url("Computer Teacher.png") center/contain no-repeat';
                teacherImg.style.filter = 'brightness(1.2) contrast(1.1)';
                teacherImg.style.opacity = '0.8';
                arHologram.appendChild(teacherImg);
                
                document.body.appendChild(arHologram);
                
                // Add binary rain effect around hologram
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        const binary = document.createElement('div');
                        binary.style.position = 'fixed';
                        binary.style.color = '#00ff00';
                        binary.style.fontFamily = "'Orbitron', monospace";
                        binary.style.fontSize = '1rem';
                        binary.style.zIndex = '9998';
                        binary.textContent = Math.random() > 0.5 ? '0' : '1';
                        binary.style.left = (Math.random() * 100) + '%';
                        binary.style.top = (Math.random() * 100) + '%';
                        binary.style.animation = 'ar-binary-float 3s linear forwards';
                        
                        // Add animation style
                        const binaryStyle = document.createElement('style');
                        binaryStyle.textContent = `
                            @keyframes ar-binary-float {
                                0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                                100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
                            }
                        `;
                        document.head.appendChild(binaryStyle);
                        
                        document.body.appendChild(binary);
                        
                        // Remove after animation
                        setTimeout(() => {
                            if (document.body.contains(binary)) {
                                document.body.removeChild(binary);
                                document.head.removeChild(binaryStyle);
                            }
                        }, 3000);
                    }, i * 150);
                }
                
                // Remove AR hologram after 10 seconds
                setTimeout(() => {
                    if (document.body.contains(arHologram)) {
                        document.body.removeChild(arHologram);
                        document.head.removeChild(arStyle);
                    }
                }, 10000);
            }
            
            // Initialize WebXR support
            initWebXR();
            
            // NEW: Transform Code Particles into 3D Models
            function transformParticleToModel(particle) {
                // Get particle position
                const rect = particle.getBoundingClientRect();
                
                // Remove the original particle
                if (document.body.contains(particle)) {
                    document.body.removeChild(particle);
                }
                
                // Create transformation effect
                const transformEffect = document.createElement('div');
                transformEffect.className = 'particle-transform';
                transformEffect.style.left = (rect.left + rect.width/2 - 15) + 'px';
                transformEffect.style.top = (rect.top + rect.height/2 - 15) + 'px';
                document.body.appendChild(transformEffect);
                
                // Remove transformation effect after animation
                setTimeout(() => {
                    if (document.body.contains(transformEffect)) {
                        document.body.removeChild(transformEffect);
                    }
                    
                    // Create 3D model particle
                    createModelParticle(rect.left + rect.width/2, rect.top + rect.height/2);
                }, 1000);
            }
            
            // NEW: Create 3D Model Particles
            function createModelParticle(x, y) {
                const modelTypes = ['book', 'computer', 'symbol'];
                const modelType = modelTypes[Math.floor(Math.random() * modelTypes.length)];
                
                const model = document.createElement('div');
                model.className = `model-particle ${modelType}`;
                model.style.left = (x - 10) + 'px';
                model.style.top = (y - 10) + 'px';
                
                // Add 3D effect to model
                const modelTop = document.createElement('div');
                modelTop.style.position = 'absolute';
                modelTop.style.top = '-2px';
                modelTop.style.left = '0';
                modelTop.style.width = '100%';
                modelTop.style.height = '2px';
                modelTop.style.background = 'linear-gradient(45deg, #00aa00, #00ff88)';
                modelTop.style.transform = 'rotateX(90deg)';
                modelTop.style.transformOrigin = 'top';
                model.appendChild(modelTop);
                
                document.body.appendChild(model);
                
                // Add floating animation
                let floatOffset = 0;
                const floatInterval = setInterval(() => {
                    floatOffset += 0.1;
                    const yOffset = Math.sin(floatOffset) * 10;
                    model.style.transform = `translateY(${yOffset}px) rotateY(${floatOffset * 10}deg)`;
                }, 50);
                
                // Add interactive effect
                model.addEventListener('click', () => {
                    // Create explosion effect
                    for (let i = 0; i < 10; i++) {
                        const fragment = document.createElement('div');
                        fragment.style.position = 'absolute';
                        fragment.style.width = '3px';
                        fragment.style.height = '3px';
                        fragment.style.background = '#00ff00';
                        fragment.style.borderRadius = '50%';
                        fragment.style.boxShadow = '0 0 5px #00ff00';
                        fragment.style.left = (x - 1.5) + 'px';
                        fragment.style.top = (y - 1.5) + 'px';
                        document.body.appendChild(fragment);
                        
                        // Animate fragment
                        const angle = Math.random() * Math.PI * 2;
                        const distance = 30 + Math.random() * 50;
                        const duration = 0.5 + Math.random() * 1;
                        
                        fragment.animate([
                            { transform: 'translate(0, 0) scale(1)', opacity: 1 },
                            { transform: `translate(${Math.cos(angle) * distance}px, ${Math.sin(angle) * distance}px) scale(0)`, opacity: 0 }
                        ], {
                            duration: duration * 1000,
                            easing: 'ease-out'
                        });
                        
                        // Remove fragment after animation
                        setTimeout(() => {
                            if (document.body.contains(fragment)) {
                                document.body.removeChild(fragment);
                            }
                        }, duration * 1000);
                    }
                    
                    // Remove model
                    clearInterval(floatInterval);
                    if (document.body.contains(model)) {
                        document.body.removeChild(model);
                    }
                });
                
                // Auto remove after 5 seconds
                setTimeout(() => {
                    clearInterval(floatInterval);
                    if (document.body.contains(model)) {
                        model.animate([
                            { opacity: 1, transform: 'scale(1)' },
                            { opacity: 0, transform: 'scale(0)' }
                        ], {
                            duration: 1000,
                            easing: 'ease-out'
                        });
                        
                        setTimeout(() => {
                            if (document.body.contains(model)) {
                                document.body.removeChild(model);
                            }
                        }, 1000);
                    }
                }, 5000);
            }
            
            // NEW: Create Binary Rain that transforms into 3D Models
            function createBinaryRainTransformation() {
                // Create binary rain particles
                for (let i = 0; i < 30; i++) {
                    setTimeout(() => {
                        const particle = document.createElement('div');
                        particle.className = 'code-particle';
                        particle.style.left = (Math.random() * window.innerWidth) + 'px';
                        particle.style.top = '-10px';
                        
                        // Add 3D effect
                        const particleTop = document.createElement('div');
                        particleTop.style.position = 'absolute';
                        particleTop.style.top = '-1px';
                        particleTop.style.left = '0';
                        particleTop.style.width = '100%';
                        particleTop.style.height = '1px';
                        particleTop.style.background = '#00aa00';
                        particleTop.style.borderRadius = '1px 1px 0 0';
                        particleTop.style.transform = 'rotateX(90deg)';
                        particleTop.style.transformOrigin = 'top';
                        particle.appendChild(particleTop);
                        
                        document.body.appendChild(particle);
                        
                        // Animate falling
                        const duration = 3 + Math.random() * 5;
                        particle.animate([
                            { transform: 'translateY(0)', opacity: 1 },
                            { transform: `translateY(${window.innerHeight + 20}px)`, opacity: 0 }
                        ], {
                            duration: duration * 1000,
                            easing: 'linear'
                        });
                        
                        // Transform to model during fall
                        setTimeout(() => {
                            if (document.body.contains(particle)) {
                                transformParticleToModel(particle);
                            }
                        }, duration * 300);
                        
                        // Remove particle after animation
                        setTimeout(() => {
                            if (document.body.contains(particle)) {
                                document.body.removeChild(particle);
                            }
                        }, duration * 1000);
                    }, i * 200);
                }
            }
            
            // Add periodic binary rain transformation
            setInterval(createBinaryRainTransformation, 10000);
        
        // NEW: Initialize Loading Screen
        function initLoadingScreen() {
            const loadingScreen = document.getElementById('loadingScreen');
            const loadingProgress = document.getElementById('loadingProgress');
            const loadingText = document.getElementById('loadingText');
            
            if (!loadingScreen) return;
            
            // Simulate loading progress
            let progress = 0;
            const loadingMessages = [
                "INITIALIZING CYBER SYSTEM...",
                "LOADING HOLOGRAPHIC MODULES...",
                "ACTIVATING NEURAL NETWORK...",
                "BOOTING QUANTUM PROCESSORS...",
                "ESTABLISHING ORBITAL LINK...",
                "DEPLOYING PARTICLE FIELD...",
                "FINALIZING SYSTEM STARTUP...",
                "SYSTEM READY!"
            ];
            
            const loadingInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(loadingInterval);
                    
                    // Update final message
                    if (loadingText) {
                        loadingText.textContent = "SYSTEM ONLINE!";
                    }
                    
                    // Hide loading screen after a short delay
                    setTimeout(() => {
                        if (loadingScreen) {
                            loadingScreen.classList.add('hidden');
                            
                            // Remove loading screen after transition
                            setTimeout(() => {
                                if (loadingScreen.parentNode) {
                                    loadingScreen.parentNode.removeChild(loadingScreen);
                                }
                            }, 1000);
                        }
                    }, 500);
                }
                
                // Update progress bar
                if (loadingProgress) {
                    loadingProgress.style.width = progress + '%';
                }
                
                // Update loading text based on progress
                if (loadingText) {
                    const messageIndex = Math.min(Math.floor(progress / 12.5), loadingMessages.length - 1);
                    loadingText.textContent = loadingMessages[messageIndex];
                }
            }, 200);
        }
    </script>
</body>
</html>    </script>
</body>
</html></body>
</html></body>
</html></body>
</html></html></body>
</html></body>
</html>